2004-12-05  Shaun McCance  <shaunm@gnome.org>

	* NEWS:
	* configure.in:
	- Version 2.6.5

2004-12-02  Dwayne Bailey  <dwayne@translate.org.za>

	* configure.in: Added "zu" to ALL_LINGUAS.

2004-11-27  Dwayne Bailey  <dwayne@translate.org.za>

	* configure.in: Added "nso" to ALL_LINGUAS.

2004-11-04  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-header.xsl:
	- s/Bigliography/Bibliography/ (I swear I've done this before)

2004-10-11  Shaun McCance  <shaunm@gnome.org>

	* NEWS:
	* configure.in:
	* */af.po:
	- Version 2.6.4

2004-09-13  Shaun McCance  <shaunm@gnome.org>

	* NEWS:
	* configure.in:
	* po/*.po:
	- Version 2.6.3

2004-08-30  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	- Version 2.6.2

	* po/*.po:
	- Stuff distcheck likes to do

2004-08-24  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Add «nb» to ALL_LINGUAS.

2004-08-16  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "bs" to ALL_LINGUAS.

2004-08-15  Gurban M. Tewekgeli  <gmtavakkoli@yahoo.com>

	* po/tk.po: Added Turkmen translation.
	* configure.in: Added "tk" to ALL_LINGUAS

2004-08-10  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-history.c:
	- Make history_finalize chain up to parent's finalize, #140663

2004-08-07  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- (tree_model_iter_following) Don't leak old_iter, #140757

2004-08-07  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-html-gtkhtml2.c:
	- Part of a patch from Kirti Sinha for #139739

2004-08-03  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/l10n.xml.in:
	- Don't use entities, since intltool borks them

2004-06-01  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-io-channel.c:
	- Moved #include <stdio.h> above the other #includes

2004-05-24  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Tajik (tg) to ALL_LINGUAS

2004-05-07  Arvind Samptur  <arvind.samptur@wipro.com>

	* src/yelp-main.c (main_save_session): Get the open_urls
	in the right index of argv
	(main_restore_session): Need get rid of "\"" before passing
	the url to main_open_new_window ().  (#142081)

2004-04-27  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Basque (eu) end Georgian (ka),
	to ALL_LINGUAS

2004-04-26  Morten Welinder  <terra@gnome.org>

	* src/yelp-window.c (window_handle_page): Fix the rest of #140595.

	* src/yelp-db-pager.c (db_pager_process): Free path, free walker,
	and free the transformed document.  (#140630)

2004-04-20  Shaun McCance  <shaunm@gnome.org>

	* Makefile.am:
	- Removing OrigTree.pm from EXTRA_DIST, I guess

	* configure.in:
	- Version 2.6.1

	* po/*.po:
	- Stuff distcheck likes to do

2004-04-20  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Fixed leak in window_handle_pager_uri, #140597  (Morten Welinder)
	- Fixed leak in window_handle_page, #140595  (Morten Welinder)

2004-04-19  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-io-channel.c:
	- #include <stdio.h>, as per #134886

2004-04-19  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Fix leak with gtk_tree_store_set, #140546  (Morten Welinder)

2004-04-19  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-theme.c:
	- Don't g_object_ref after gtk_style_new, #140525  (Morten Welinder)

2004-04-19  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-toc-pager.c:
	- s/g_free/g_strfreev/ on **paths, fixes #140524 (Morten Welinder)

2004-04-16  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- NULL check on priv->pager before g_object_unref, fixes #140300

2004-04-16  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-toc-pager.c:
	- Better handling of category_hash, as per #128914

2004-04-08  Guntupalli Karunakar  <karunakar@freedomink.org>

        * configure.in: Added "gu" (Gujarati) to ALL_LINGUAS.

2004-03-31  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "af" to ALL_LINGUAS.

2004-03-22  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	- Version 2.6.0

	* po/*.po:
	- Stuff distcheck likes to do

2004-03-22  Guntupalli Karunakar  <karunakar@freedomink.org>

        * configure.in: Added "pa" (Punjabi) to ALL_LINGUAS.

2004-03-21  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	- Patch from Laszlo Peter for #134534, portable sed usage

2004-03-20  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added en_GB to ALL_LINGUAS

2004-03-16  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	- Version 2.5.91

	* po/*.po:
	- Stuff distcheck likes to do

2004-03-15  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Fix for #137216, infinite loop in tree traversal.

2004-03-10  Alexander Winston  <alexander.winston@comcast.net>

	* configure.in: Added en_CA to ALL_LINGUAS.

2004-03-09  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	- Version 2.5.90

	* po/*.po:
	- Various distcheck stuff

2004-03-07  Shaun McCance  <shaunm@gnome.org>

	* data/toc.xml.in:
	- Updated to reflect latest SK categories.

2004-03-03  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Added me to the copyrights on About.


	* stylesheets/db2html-html.xsl:
	- Stylistic changes that should hopefully benefit documents with deeper
	  list nesting.  I've added margins on li elements, because it's really
	  needed.  Unfortunately, gtkhtml doesn't seem to understand that it
	  should also pad down the leading bullet/number.  We'll just have to
	  suffer it.

2004-03-03  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	- Require libxml2-2.6.5 and libxslt-1.1.4 for the dictionary stuff.

	* src/yelp-toc-pager.c:
	- Remove work-around for #131745, since we now require libxml2-2.6.5.

2004-02-24  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	- Version 2.5.6

	* po/*.po:
	- Various distcheck stuff

2004-02-19  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Adding dictionary to the new xmlDoc for each chunk.  This works around
	  the libxslt bug in 1.1.3 and in principle makes the transformation faster.
	- Another NULL check.

2004-02-18  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-titlepage.xsl:
	* test/testdoc1/testdoc1.xml:
	- Added support address/email in titlepage, per #134769.  Also don't
	  duplicate then name of othercredit.
	- Merged templates for author | editor | othercredit, since they're
	  all the same.

2004-02-17  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Another NULL test before an xmlFree, suggested by William Brack.

2004-02-16  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-toc.xsl:
	- Changed $cols to {$cols}, so that it'll actually work. :/

2004-02-16  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Patch from DV to stop mixing malloc and free wrappers from glib and
	  libxml2.  Fixes a crash with latest libxslt.

2004-02-16  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	- Patch from Julio M. Merino Vidal for portable sed usage (#134534)

2004-02-15  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Fixed memory leak.

2004-02-12  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Disconnect idle_write when closing a window or switching to a different
	  page, because some people apparently don't like Yelp to crash.

2004-02-12  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Don't crash when the window is closed before the transformation is
	  finished, from Jan Arne Petersen.  (#134266)

2004-02-11  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-synopsis.xsl:
	* test/testdoc1/testdoc1.xml:
	- More cmdsynopsis work.

2004-02-10  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-header.xsl:
	* stylesheets/db2html-synopsis.xsl:
	- Some work on cmdsynopsis.

2004-02-10  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	- Version 2.5.5

	* po/*.po
	- distcheck stuff

2004-02-09  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-navbar.xsl:
	- Fixed theoretical bug which never gets triggered in navbar.next.

2004-02-09  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-header.xsl:
	- Speed improvements of about 0.1s on the UG.

2004-02-08  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-toc.xsl:
	- Rather smallish speed improvement.

2004-02-08  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-html-gtkhtml2.c:
	* src/yelp-window.c:
	- Don't always grab focus on the gtkhtml2 widget.  I did this as part of
	  my efforts to lay smack-down on gtkhtml2's scrolling weirdness, but it
	  isn't needed with the solution I have, and it's annoying.

	* stylesheets/db2html-html.xsl:
	* stylesheets/db2html-toc.xsl:
	- Stylistic TOC changes, and only print Contents header when there are.

	* test/testdoc1/testdoc1.xml:
	- Chunk two levels deep.

2004-02-07  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-titlepage.xsl:
	* stylesheets/l10n.xml.in:
	- Handle releaseinfo element.

2004-02-06  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	* stylesheets/db2html-header.xsl:
	- Free the transformation context.
	- The cache extension element isn't working, but I hooked it in so I have
	  more oppurtunity to let GTK+ update itself.

	* stylesheets/db2html-navbar.xsl:
	- Speed improvement to navbar.prev.

2004-02-06  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-division.xsl:
	- Fixed blatently wrong chunking in refentry.

	* stylesheets/db2html-xref.xsl:
	- Fixed blatently wrong grabbing of text content for ulink.

2004-02-05  Tomasz Kłoczko <kloczek@pld.org.pl>

	* configure.in: Trivial cleanup: remove AC_SUBST(CFLAGS)
	  and AC_SUBST(LDFLAGS). This variables are substed by default.

2004-02-04  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	- Version 2.5.4

	* README:
	- Updated README information regarding XSLT.

	* po/*.po:
	- Various distcheck changes.

2004-02-03  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Tweak to the idle writer that squeezes out a few more scroll problems.

	* test/testdoc1/testdoc1.xml:
	- Added indexterms

2004-02-03  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-pager.c:
	- s/FALSE/NULL/ for return value for a function that returns a pointer.

2004-02-03  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-html-gtkhtml2.c:
	- Introduced a timeout function for scrolling to anchor/top, since gtkhtml2
	  also has a timeout that likes to scroll to the first link.  This timeout
	  checks if gtkhtml2's timeout is still pending, and readds itself if so.

	* src/yelp-window.c:
	- Do the writing of the page in an idle, which produces better renderings
	  and helps me to beat idle and timeout functions that mess with scrolling.
	- Fix problem where Previous/Next/TOC menu items stayed active when they
	  shouldn't have.

2004-01-23  Mikael Hallendal  <micke@imendio.com>

	* src/yelp-window.h: include gtkwindow.h instead of gnome-app.h

2004-01-22  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-uri.c:
	* src/yelp-uri.h:
	- Handle mailto: URIs.
	- Make file: URIs be _TYPE_UNKNOWN for formats we don't know.

	* src/yelp-window.c:
	- Handle mailto: URIs.
	- Some NULL checking.

2004-01-22  Shaun McCance  <shaunm@gnome.org>

	* data/toc.xml.in:
	- Handling another category that doesn't exist.  ~sigh~

	* stylesheets/db2html-html.xsl:
	- Modification to variablelist rendering.

	* stylesheets/db2html-xref.xsl:
	- Pull content of ulink from url when there's no content.

	* test/testdoc1/testdoc1.xml:
	- Test ulink.

2004-01-22  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Implemented destroy callback to unref stuff I ref.

2004-01-21  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.h:
	- Fixed ugly but benign typo.

	* test/testdoc1/testdoc1.xml:
	- Implemented test for xref.

2004-01-21  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Fixed annoying double-history thing with first page.  Again.
	- Fixed history problem when loading anything external.

2004-01-21  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/gettext.xsl:
	* stylesheets/l10n.xml.in:
	- Added string 'About This Article'.
	- Made gettext behave more nicely when a string isn't found.

2004-01-19  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-division.xsl:
	* stylesheets/db2html-html.xsl:
	* stylesheets/db2html-toc.xsl:
	- Stylistic changes to the TOC.

2004-01-18  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	* stylesheets/db2html-param.xsl:
	- Nicer chunk depth determination.  Works decently well.

2004-01-17  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-titlepage.xsl:
	* stylesheets/gettext.xsl:
	- Small changes to pluralized headers in titlepage.

2004-01-16  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-toc-pager.c:
	- Updated comment about bug #131745, now that I've filed the bug.

2004-01-15  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-base.c:
	- Relative path handling broke absolute-sans-scheme path handling.
	  Now fixed.

	* src/yelp-db-pager.c:
	- Handle XInclude.

	* src/yelp-toc-pager.c:
	- The parser context seems to fail on all files after a single bad XML
	  file, which I think is a bug in libxml2.  This caused a single bad
	  OMF file to bomb the whole TOC.  I've worked around the problem for
	  now by creating a new parser context after errors.

2004-01-14  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-base.c:
	- Don't require absolute path for a file given on the command line.

	* test/testdoc1/testdoc1.xml:
	- That really isn't my email address.  Really.

2004-01-12  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Changed Previous and Next to Previous Page and Next Page, per UI review.

2004-01-12  Richard Hult  <richard@imendio.com>

	* src/yelp-toc-pager.c (menu_write_page): Set encoding to utf-8 in
	the generated html. Fixes bug #131186.

2004-01-11  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	* src/test-pager.c:
	* src/yelp-db-pager.c:
	* src/yelp-io-channel.c:
	* src/yelp-man-pager.c:
	* src/yelp-man-pager.h:
	* src/yelp-uri.c:
	* src/yelp-window.c:
	* stylesheets/Makefile.am:
	- Oh man(1), this is the start of a beautiful relationship.

2004-01-11  Shaun McCance  <shaunm@gnome.org>

	* src/test-pager.c:
	* src/yelp-base.c:
	* src/yelp-db-pager.c:
	* src/yelp-db-pager.h:
	* src/yelp-history.c:
	* src/yelp-history.h:
	* src/yelp-html-gtkhtml2.c:
	* src/yelp-html.h:
	* src/yelp-pager.c:
	* src/yelp-pager.h:
	* src/yelp-toc-pager.c:
	* src/yelp-uri.c:
	* src/yelp-uri.h:
	* src/yelp-window.c:
	* src/yelp-window.h:
	- ... in which I change YelpURI around.  Again.

2004-01-10  Shaun McCance  <shaunm@gnome.org>

	* src/.cvsignore: Added test-man-parser to .cvsignore

	* src/Makefile.am:
	* src/yelp-error.c:
	* src/yelp-error.h:
	* src/yelp-io-channel.c:
	* src/yelp-io-channel.h:
	* src/yelp-man-parser.c:
	- Kick-ass custom GIOChannel that automatically uses zlib and libbz2.

	* stylesheets/.cvsignore: Added l10n.xml to .cvsignore

2004-01-10  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/l10n.xml.in:
	- Added lots of comments.

	* test/testdoc1/testdoc1.xml:
	- Made my email address correct.

2004-01-10  Eric Baudais  <drake@gnome.org

	* test/testdoc1/testdoc1.xml
	- Added some more glossary tests.

2004-01-09  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/l10n.xml.in
	- s/Bigliography/Bibliography/

2004-01-09  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-xref.xsl:
	- More link fixes, making endterm cases look right.

	* test/Makefile.am:
	* test/autogen.sh:
	* test/configure.in:
	* test/omf.make:
	* test/xmldocs.xml:
	- Making test/ independantly buildable.

2004-01-09  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-xref.xsl:
	- Revert link back to the correct behavior.

2004-01-09  Eric Baudais  <drake@gnome.org>

	* test/testdoc1/testdoc1.xml: 
	- Fixed the test doc so everything is valid DocBook.

2004-01-09  Shaun McCance  <shaunm@gnome.org>

	* stylesheets/db2html-chunk.xsl:
	- Some glossary work.

	* stylesheets/gettext.xsl:
	- Strip trailing space from number-less headers.

	* test/testdoc1/testdoc1.xml:
	- Some glossary test stuff.

2004-01-08  Shaun McCance  <shaunm@gnome.org>
See stylesheets/ChangeLog for previous stylesheet changes

2004-01-08  Shaun McCance  <shaunm@gnome.org>

	* po/POTFILES.in:
	- Made translations work in XSLT, still need to do plurals.

2004-01-08  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-man-parser.c:
	- Gobs more work on the man page parser.

2004-01-07  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Error dialog for invalid ghelp: URI.

2004-01-07  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	* src/yelp-error.c:
	* src/yelp-error.h:
	* src/yelp-toc-pager.c:
	* src/yelp-window.c:
	- Consolidated all the GError-making in yelp-error.c.

2004-01-05  Shaun McCance  <shaunm@gnome.org>

	* data/Makefile.am:
	* data/default.css:
	* src/yelp-theme.c:
	* src/yelp-theme.h:
	- Added default CSS file.

	* src/yelp-toc-pager.c:
	- Switched to using GString for writing the page.
	- Put content writing in a separate function, to make inlining easier.

2004-01-03  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	* src/test-pager.c:
	- Make test-pager work again.

2004-01-03  Robert Sedak  <robert.sedak@sk.htnet.hr>

        * configure.in: Added "hr" in ALL_LINGUAS.

2004-01-02  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-html-gtkhtml2.c:
	* src/yelp-html.h:
	* src/yelp-window.c:
	- Started working on the jump-to-anchor thing.

2004-01-02  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Implement yelp:chunk-depth PI.

	* src/yelp-toc-pager.c:
	- Started preparing to read man dirs.

	* src/yelp-uri.c:
	- Handle absolute ghelp: URIs.

	* src/yelp-window.c:
	- Handle HTML pages.  Not done yet.

2004-01-01  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- A quick comment, to remind me.

	* src/yelp-html-gtkhtml2.c:
	- Don't let the html view shrink to nothing.

	* src/yelp-window.c:
	- Handle external URIs, like web sites and stuff.

	* test/testdoc1/testdoc1.xml:
	- Put in tests for some inline elements.

2003-12-31  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	- Temporarily removed test programs from the build.
	- Removed yelp-util from the yelp build.

	* src/test-uri.c:
	- Some changes for GnomeVFSURI, but not enough.

	* src/yelp-base.c:
	* src/yelp-cache.h:
	* src/yelp-db-pager.c:
	* src/yelp-db-pager.h:
	* src/yelp-history.c:
	* src/yelp-history.h:
	* src/yelp-html-gtkhtml2.c
	* src/yelp-html.h:
	* src/yelp-pager.c:
	* src/yelp-pager.h:
	* src/yelp-toc-pager.c:
	* src/yelp-uri.c:
	* src/yelp-uri.h:
	* src/yelp-window.c:
	* src/yelp-window.h:
	- Switching to GnomeVFSURI.

	* src/yelp-db-pager.c:
	- Remove leading/trailing whitespace from titles.

2003-12-30  Shaun McCance  <shaunm@gnome.org>

	* configure.in: Version 2.5.2.

2003-12-30  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-theme.c:
	- Grab the default style if gtk_rc_get_style_by_paths returns NULL.

2003-12-30  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- doc_name and doc_path were reversed for some reason.

2003-12-29  Shaun McCance  <shaunm@gnome.org>

	* data/toc.xml.in:
	- Move Applets into Applications.
	- Accomodote non-standard GNOME|Applications|Accessories.

	* src/yelp-theme.c:
	- Don't be an idiot.  Use snprintf.

	* src/yelp-window.c:
	- Make the busy cursor go away when erroring out.

2003-12-29  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-uri.c:
	- Consider #index to be equal to no fragment.

	* src/yelp-window.c:
	- Some improvement to the history mechanism.

2003-12-29  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Transpose Titlepage and Contents.

	* src/yelp-main.c:
	- Handle startup notification.

	* test/testdoc1/testdoc1.xml:
	- Change to 4.1.2.  I need to fix this fiasco.  ~sigh~

2003-12-29  Shaun McCance  <shaunm@gnome.org>

	* test/testdoc1/testdoc1.xml:
	- Put in a test for classsynopsis.

2003-12-26  Shaun McCance  <shaunm@gnome.org>

	* configure.in
	* src/Makefile.am
	- Updates dependencies.

	* data/Makefile.am:
	* data/icons/Makefile.am:
	* data/icons/caution.png:
	* data/icons/important.png:
	* data/icons/note.png:
	* data/icons/tip.png:
	* data/icons/warning.png:
	- Adding icons here.

	* src/yelp-db-pager.c:
	- Changed params around a bit.

	* test/testdoc1/testdoc1.xml:
	- Changes to admonition samples.

2003-12-26  Shaun McCance  <shaunm@gnome.org>

	* AUTHORS:
	- Added myself to AUTHORS.

	* src/yelp-db-pager.c:
	- Fixed memory leak in params.

	* src/yelp-uri.c:
	* src/yelp-uri.h:
	* src/yelp-window.c:
	- Re-added Hallski's copyright statements.

	* test/testdoc1/testdoc1.xml:
	- Put actual content in, including admonition section.

2003-12-26  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	* test/testdoc1/Makefile.am:
	* test/testdoc1/legal.xml:
	* test/testdoc1/testdoc1.omf:
	* test/testdoc1/testdoc1.xml:
	- Added test documents.

	* data/toc.xml.in:
	- Handling System|... stuff from SK.

2003-12-24  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	- Add yelp-theme to test_pager_SOURCES

	* src/yelp-db-pager.c:
	* src/yelp-theme.c:
	* src/yelp-theme.h:
	- Theme the gray color of screen, programlisting, etc.

	* src/yelp-window.c:
	- Change keybindings up, for fun.

	* stylesheets/Makefile.am:
	* stylesheets/db2html-formal.xsl:
	* stylesheets/db2html-lists.xsl:
	- Removing db2html-formal and db2html-lists

2003-12-22  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-toc-pager.c:
	- Changed things around to accomodate more stuff.

2003-12-18  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Crash fix from Chee Bin HOH.

2003-12-18  Shaun McCance  <shaunm@gnome.org>

	All from Chee Bin HOH:

	* data/ui/yelp.glade:
	- A new 'Find dialog which has same GUI as epiphany's Find dialog.

	* src/yelp-html-gtkhtml2.c:
	- Add automatically 'wrap around' if finding reaches the end of an
	  html page (but avoid searching twice).
	- Searching from where the previous finding stops.
	- Clean up the yelp-html-gtkhtml2.c source a bit.

	* src/yelp-html.c:
	- Change yelp_html_find to return a boolean value to indicate the
	  success or failure of findiing.

	* src/yelp-window.c:
	- Change 'Find in page... Ctrl+F' to 'Find... Ctrl+F'
	- Change 'Find again  Ctrl+G' to 'Find Next  Ctrl+G'
	- Add 'Find Previous  Shift+Ctrl+G' to 'Edit' menu.
	- Disable the 'Next' button if finding next fails or 'Previous'
	  button if finding previous fails.
	- Disable 'Next' and 'Previous' buttons if no text being entered
	  into the 'Find' text entry, else enable the both buttons.
	- Hitting 'Alt-N' or 'Alt+P' will only activate the 'Next' button or
	  'Previous' button, NOT pulling down the 'Find' combobox entry list.

2003-12-17  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	* src/yelp-base.c:
	* src/yelp-main.c:
	* src/yelp-window.c:
	- Attempts at working with GtkIconTheme.

	* src/yelp-window.c:
	- Check for model != NULL, to avoid ugly warnings.

2003-12-16  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	* src/yelp-base.c:
	* src/yelp-history.h:
	* src/yelp-html.h:
	* src/yelp-util.c:
	* src/yelp-window.c:
	- Removing yelp-scrollkeeper and yelp-sections.

2003-12-16  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Made sidebar selection follow the page loeded.

2003-12-16  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	* src/yelp-pager.c:
	* src/yelp-pager.h:
	* src/yelp-toc-pager.c:
	* src/yelp-window.c:
	- Add prev, next, and toc to YelpPage.
	- Create menu items for Previous, Next, and Contents.

2003-12-15  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	* src/yelp-pager.c:
	* src/yelp-pager.h:
	* src/yelp-window.c:
	- Changed state to a bitfield, easier to extend.
	- Re-added the "contents" signal for faster page-existence checking.

2003-12-13  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Make the page titles work.

	* src/yelp-toc-pager.c:
	- Emit a finish signal.

2003-12-12  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-html-gtkhtml2.c:
	- Possible fix problem with Find (#128905) (Chee Bin HOH)
	- Fix crasher with Find (#128784) (Chee Bin HOH)

	* src/yelp-window.c:
	- Select existing text in Find dialog (Shaun McCance)

2003-12-08  Shaun McCance  <shaunm@gnome.org>

	* configure.in: Version 2.5.1.

2003-12-08  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-toc-pager.c:
	- Fixed a crasher with gnome_vfs_directory_close.

	* src/yelp-window.c:
	- Moved a declaration to the beginning for ANSI C.

2003-12-06  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-pager.c:
	- Checking for NULL in pager_set_property before g_object_ref'ing.

2003-12-06  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-toc-pager.c:
	- Patch from Diego González to fix crashing bug in g_object_new.

2003-12-05  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c
	- Patch from Chee Bin HOH to add Back, Forward, and Find in Page

2003-12-03  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Patch from Joe Markus Clarke not to free un-malloc'd memory.

	* src/yelp-toc-pager.c:
	- Fixed problem with un-malloc'd memory being free found by
	  Joe Markus Clarke.

2003-12-02  Shaun McCance  <shaunm@gnome.org>

	* src/.cvsignore:
	- It's test-pager, not yelp-pager.

2003-12-02  Shaun McCance  <shaunm@gnome.org>

	* data/.cvsignore:
	* src/.cvsignore:
	- Adding data/toc.xml and src/test-pager to .cvsignore

2003-12-02  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-toc-pager.c:
	- Change to the way toc pages are pruned so that we don't get orphaned
	  Categories headers.

2003-12-02  Shaun McCance  <shaunm@gnome.org>

	* configure.in: Version 2.5.0.

2003-12-02  Shaun McCance  <shaunm@gnome.org>

	* data/toc.xml.in:
	- Removed the DOCTYPE, because it was passing straight through intltool
	  and the resultant toc.xml had an incorrent DOCTYPE.
	- Rearranged the menu a bit.

2003-12-02  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Don't require top element id to be index.

2003-12-01  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-toc-pager.c:
	- Changed the way toc nodes are processed to give a depth-first,
	  post-order traversal.  This way I can prune empty toc pages.

2003-12-01  Shaun McCance  <shaunm@gnome.org>

	* data/toc.xml.in:
	- Handling all SK categories, from mariano.

	* src/yelp-window.c:
	- Start with Loading..., so the titlebar doesn't look like ass.

2003-12-01  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Make the Loading message kind of animated, for better feedback.

2003-12-01  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-toc-pager.c:
	- Switched to using a single pending function that calls the appropriate
	  function on each iteration.  Makes the code nicer.

2003-11-30  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Make no-sidebar the default, to avoid momentary flicker.

2003-11-30  Shaun McCance  <shaunm@gnome.org>

	* data/toc.xml.in:
	- Some work on the TOC.

	* src/yelp-db-pager.c:
	- Actually use the parser options.

2003-11-30  Shaun McCance  <shaunm@gnome.org>

	* data/toc.xml.in:
	- Implementing more of the TOC.

	* src/yelp-toc-pager.c:
	- Don't reverse the subcategories in a TOC.

	* src/yelp-window.c:
	- Make the sidebar actually appear.

2003-11-30  Shaun McCance  <shaunm@gnome.org>

	- Some changes I forgot to commit on transformation-playground before merging.

	* src/yelp-db-pager.c:
	- Some changes to how the XML parser is called.

	* src/yelp-toc-pager.c:
	- Actually creating the TOC pages.

2003-11-30  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	* data/Makefile.am:
	* po/POTFILES.in:
	* src/Makefile.am:
	* src/test-uri.c:
	* src/yelp-base.c:
	* src/yelp-cache.c:
	* src/yelp-cache.c:
	* src/yelp-cache.h:
	* src/yelp-db2html.c:
	* src/yelp-error.h:
	* src/yelp-history.c:
	* src/yelp-html-gtkhtml2.c:
	* src/yelp-info.c:
	* src/yelp-main.c:
	* src/yelp-man.c:
	* src/yelp-scrollkeeper.c:
	* src/yelp-section.c:
	* src/yelp-uri.c:
	* src/yelp-uri.h:
	* src/yelp-view-content.c:
	* src/yelp-window.c:
	* src/yelp-window.h:
	- Merging transformation-playground

2003-11-29  Shaun McCance  <shaunm@gnome.org>

	* data/toc.xml.in:
	- Filled in just a little more to show how it works, so that I can
	  get somebody else to write this file for me.

2003-11-29  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Make the sidebar disappear for no-sidebar pages.

2003-11-29  Shaun McCance  <shaunm@gnome.org>

	* data/Makefile.am:
	* data/toc.xml:
	* po/POTFILES.in:
	- Added the TOC XML file.

2003-11-29  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c:
	- Don't leak GErrors.
	- Report an error in the error signal callback.

2003-11-28  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Switched to a different bit of the libxml2 API to parse the document.
	- Made page_id default to "index" when frag_id == NULL.

	* src/yelp-pager.c:
	* src/yelp-pager.h:
	- Implemented yelp_uri_is_page.

	* src/yelp-toc-pager.c:
	- Implemented resolve_uri.
	- Finished parsing of TOC, just need to write the pages.
	- Began work on indexing stuff.

	* src/yelp-uri.c:
	- Fixed memory corruption.

	* src/yelp-window.c:
	- Added callbacks for error and finish signals.
	- Made the TOC go through window_handle_pager_uri.
	- Switched to yelp_pager_uri_is_page in page callback.

2003-11-12  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	- Add yelp-error.[ch] to SOURCES for test-pager.

	* src/yelp-error.h:
	- Add YELP_ERROR_FAILED_TOC.

	* src/yelp-pager.c:
	- Don't free memory you're not supposed to, dummy.

	* src/yelp-toc-pager.c:
	- More work on the toc generation.

	* src/yelp-window.c:
	- Make sidebar selection work.
	- Remove huge block of commented-out code.

2003-11-19  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-toc-pager.c:
	- Prepare to work around seriesid madness.
	- Prepare to read the actual toc file in.

2003-11-18  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	- Add yelp-toc-pager.[ch] to test-pager build.

	* src/yelp-toc-pager.c:
	- Make the hashing of OMF files work completely.

2003-11-18  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	* src/yelp-reader.c:
	* src/yelp-reader.h:
	- Removing YelpReader

2003-11-18  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-toc-pager.c:
	- Only read files ending in .omf

2003-11-18  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Pass $mediaobject_path as a param

2003-11-18  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	* src/yelp-pager.c:
	* src/yelp-pager.h:
	- Implement pausing of the TocPager.
	- Add default handlers for error, cancel, and finish.

	* src/yelp-toc-pager.c:
	* src/yelp-toc-pager.h:
	- Implement pausing of the TocPager.
	- More work on reading OMF files.

	* src/yelp-window.c:
	- Implement pausing of the TocPager.

2003-11-17  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-toc-pager.c:
	- More work on the TOC pager.

2003-11-16  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	- Make the titles for sidebars actually work.  That was stupid.

	* src/yelp-window.c:
	- Make the titles for sidebars actually work.
	- Keep a reference to the scrolling areas, so I can reparent.

2003-11-16  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	* src/yelp-base.c:
	* src/yelp-toc-pager.c:
	* src/yelp-toc-pager.h:
	- Adding YelpTocPager

	* src/yelp-db-pager.c:
	* src/yelp-db-pager.h:
	- Whitespace changes

2003-11-15  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	* src/yelp-pager.c:
	* src/yelp-pager.h:
	- Change resolve_uri to return a non-const gchar *
	- Remove sections event, as it's not necessary using the
	  GtkTreeModel without all that threading crap.

	* src/yelp-db-pager.c:
	- Remove sections event.

2003-11-15  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db-pager.c:
	* src/yelp-pager.c:
	* src/yelp-pager.h:
	- Use a YelpPage struct rather than just a gchar, so a page can
	  hold the id and title and well as the contents.

	* src/yelp-error.h:
	- Add an error code for no-longer-supported SGML.

	* src/yelp-window.c:
	- Prepare to work TOC back in.
	- Use YelpPage.
	- Some more error-handling.
	- Make "Loading..." actually work.
	- Set window title.

2003-11-15  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	* src/yelp-cache.c:
	* src/yelp-cache.h:
	* src/yelp-html-gtkhtml2.c:
	* src/yelp-info.c:
	* src/yelp-main.c:
	* src/yelp-main.c:
	* src/yelp-scrollkeeper.c:
	* src/yelp-section.c:
	* src/yelp-window.c:
	- Changes for GObjectified YelpURI
	- Using new transformation code

	* src/yelp-db-pager.c:
	* src/yelp-pager.c:
	* src/yelp-pager.h:
	- Dethreadifying

	* src/yelp-uri.c:
	* src/yelp-uri.h:
	- Work on relative URI resolver

2003-11-11  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	* src/yelp-base.c:
	* src/yelp-history.c:
	* src/yelp-window.c:
	* src/yelp-window.h:
	- Breaking things more for the new transformations

2003-11-10  Shaun McCance  <shaunm@gnome.org>

	* src/info2html/main.c:
	- Fix silliness with g_strdup_printf
	  (Joe Marcus Clarke and Roderich Schupp)

2003-11-06  Shaun McCance  <shaunm@gnome.org>

	* configure.in:
	- Require libxml-2.0 2.6.0, because I do

2003-11-06  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-uri.h:
	- #include <glib-object.h>

2003-11-06  Shaun McCance  <shaunm@gnome.org>

	* src/Makefile.am:
	- Changes for new URI and Pager code

2003-11-06  Shaun McCance  <shaunm@gnome.org>

	* src/test-uri:
	* src/yelp-uri.c:
	* src/yelp-uri.h:
	- New GObjectified URI code

	* src/test-pager.c:
	* src/yelp-db-pager.c:
	* src/yelp-db-pager.h:
	* src/yelp-pager.c:
	* src/yelp-pager.h:
	- New transformation code

2003-10-12  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-cache.c:
	* src/yelp-cache.h:
	* src/yelp-db2html.c:
	* src/yelp-reader.c:
	* src/yelp-scrollkeeper.c:
	* src/yelp-view-content.c:
	- Revert change for making navbars in C.  Should not be necessary
	  with new stylesheets.
	- Use new stylesheets

2003-10-06  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "mr" to ALL_LINGUAS.

2003-10-06  Žygimantas Beručka  <uid0@tuxfamily.org>

	* configure.in: Added "lt" to ALL_LINGUAS

2003-09-08  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c: Added self to About

2003-08-27  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-main.c
	- Fix from alexl for rather nasty problem when DISPLAY is set.

2003-08-26  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-cache.c
	* src/yelp-cache.h
	* src/yelp-db2html.c
	* src/yelp-reader.c
	* src/yelp-scrollkeeper.c
	* src/yelp-view-content.c
	- Big speedup to transformation of large DocBook documents
	  by generating navigation links in C from ScrollKeeper info.

2003-08-26  Shaun McCance  <shaunm@gnome.org>

	* README: Updated README so it's correct

2003-08-18  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-window.c: declare variables at top of block

2003-08-18  Jakub Steiner <jimmac@ximian.com>

	* stylesheets/docbook/*.png: provide nicer, gnome2-styled images

2003-08-15  Mikael Hallendal  <micke@imendio.com>

        * src/GNOME_Yelp.server.in: Replaced yelp-base for yelp. Not sure what
          should be in there really... Might fix bug #119764

	* src/yelp-window.c: (window_init), (window_configure_cb):
        - Save size from last window. Patch by Shaun McCance.
        - Fixes bug #90451

	* configure.in: 
        - Applied patch from Steve Chaplin that fixes the CFLAGS.
        - Fixes bug #118984

	* src/yelp-main.c: 
        (main_restore_session): Return FALSE, otherwise we'll try to start Yelp
          from the session over and over again. Reported by Jody earlier.

2003-08-14  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "ne" to ALL_LINGUAS.

2003-08-13  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-view-toc.c
	- Re-added a closing ul tag that was accidentally removed

2003-08-12  Mikael Hallendal  <micke@imendio.com>

        * Release 2.3.6

	* NEWS: Updated for 2.3.6
	* configure.in: Bumped to 2.3.6

	* data/images/bcg.png: 
	- Replace image for one with transparent background.
	* src/yelp-view-toc.c: 
	- Remove the spacer padding image
	- Both these should finally fix bug #89838. Patches from Shaun McCance.

2003-07-30 John Fleck <jfleck@inkstain.net>

	* src/info2html/html.c
	- patch from Shaun re bug #89838

2003-07-24  Shaun McCance  <shaunm@gnome.org>

	* src/yelp-db2html.c:
	- Change parameters passed to stylesheets.

2003-07-15 John Fleck <jfleck@inkstain.net>

	* configure.in: version 2.3.4

2003-07-08  Anders Carlsson  <andersca@codefactory.se>

	* configure.in:
	* src/Makefile.am:
	* src/info2html/Makefile.am:
	* src/man2html/Makefile.am:
	* src/yelp-reader.c: (reader_convert_start):
	Move help readers over from libgnome.
	
2003-07-02  Jordi Mallach  <jordi@sindominio.net>

	* yelp.desktop.in: Add StartupNotify support.

2003-06-25  Glynn Foster  <glynn.foster@sun.com>

	* stylesheets/l10n.xml: Add some new languages from 
	Mike Lei - merging patches from sun-patches.

2003-06-25  Glynn Foster  <glynn.foster@sun.com>

	* stylesheets/l10n.xml: Update correct italian translation
	for Next/Previous/Contents.

2003-06-16  Alex Duggan  <aldug@astrolinux.com>
 
 	* src/yelp-main.c: s/dir/directory/  Fixes #111818
 
2003-06-16  Mikael Hallendal  <micke@imendio.com>

	* src/yelp-db2html.c: 
	(main): Exit with a warning if file doesn't exist. Fixes #104478.

2003-06-13  Mikael Hallendal  <micke@imendio.com>

        * *: Updated my contact information
	
2003-06-10 John Fleck <jfleck@inkstain.net>

	* src/Makefile.am
	* src/yelp-db2html.c
	* src/yelp-scrollkeeper.c
	* stylesheets/Makefile.am
	* stylesheets/yelp-custom.xsl
	* stylesheets/yelp-customization.xsl
	  added
	* stylesheets/yelp-functions.xsl
	  patch from Shaun McCance to address bug #114117

2003-06-04  Mikael Hallendal  <micke@codefactory.se>

        * Release 2.3.3

        * configure.in: Updated to 2.3.3
	
	* NEWS: Updated for 2.3.3

        * src/yelp-scrollkeeper.c: (scrollkeeper_parse_toc_section):
	- fixed leak found by Kjartan.

	* src/yelp-reader.c: 
	- style fixes
	- fixes memory leaks found and patched by Narayana Pattipati
	- fixes #110572  
	
2003-06-03  Mikael Hallendal  <micke@codefactory.se>

        * src/yelp-window.c: (window_about_cb): 
	- If About window is already showing, don't create another one.
	  Patch by Steve Chaplin, fixes #113906

2003-06-03  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-content.c: (content_reader_finished_cb):
	- Use gtp_tree_view_expand_to_path to expand the tree instead of callin
	  gtk_tree_view_expand_path on all parents. Fixes #113977

2003-06-03  Kenneth Rohde Christiansen  <kenneth@gnu.org>

	* configure.in: Added "li" (Limburgish) to ALL_LINGUAS.

2003-05-26  Telsa Gwynne  <hobbit@aloss.ukuu.org.uk>

	* configure.in: Added "cy" to ALL_LINGUAS

2003-05-06  Danilo Šegan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

2003-05-01  Paul Duffy <dubhthach@frink.nuigalway.ie>

        * configure.in: Added "ga" to ALL_LINGUAS.

2003-04-24  Taneem Ahmed  <taneem@eyetap.org>

	* configure.in: Added "bn" to ALL_LINGUAS.

2003-04-15  Alex Duggan  <aldug@astrolinux.com>

	* src/yelp-window.c: Change string in about box

2003-04-07  Mikael Hallendal  <micke@codefactory.se>

        * Release 2.3.0

        * NEWS: Updated for 2.3.0
	
2003-04-05 John Fleck <jfleck@inkstain.net>

	* stylesheets/yelp-customization.xsl
	More from Shaun McCance, fixes #100415

2003-04-05 John Fleck <jfleck@inkstain.net>

	* stylesheets/yelp-customization.xsl
	More from Shaun McCance, fixes #100477

2003-04-01 John Fleck <jfleck@inkstain.net>

	* stylesheets/yelp-customization.xsl
	More from Shaun McCance, fixes #82760

2003-04-01 John Fleck <jfleck@inkstain.net>

	* stylesheets/yelp-customization.xsl
	Patch from Shaun McCance fixing #91611

2003-03-31  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-main.c: 
	- Added --with-cache-dir (not used yet).
	- Cleaned up popt mess
	- Changed the session stuff a bit (it now uses --open-urls instead
	  of multiple --url)
	- Removed support for 'gman', fixes #103750
	
	* src/Makefile.am:
	- removed Gtkhtml1 support.
	- Removed support for 'gman', fixes #103750

	* configure.in: 
	- bumped version.
	- removed gtkhtml1 support.

	* src/yelp-scrollkeeper.c (scrollkeeper_get_xml_docpath): 
	- fixed #109599

	* src/yelp-info.c (yelp_info_init): some cleanups.

2003-03-13  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "ml" to ALL_LINGUAS.

2003-03-10  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "eo" to ALL_LINGUAS.

2003-02-25  Samúel Jón Gunnarsson  <sammi@techattack.nu>

	* configure.in: added "is" to ALL_LINGUAS

2003-02-21  Paisa Seeluangsawat  <paisa@colorado.edu>

	* configure.in (ALL_LINGUAS): Added "th".

2003-02-18  Roozbeh Pournader  <roozbeh@sharif.edu>

	* configure.in: Added "fa" to ALL_LINGUAS.

2003-02-09  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "kn" to ALL_LINGUAS.

2003-02-06  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "id" to ALL_LINGUAS.

2003-01-22  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "mn" to ALL_LINGUAS.

2003-01-20  Mikael Hallendal  <micke@codefactory.se>

	* Release 2.2.0

	* configure.in: Bumped version to 2.2.0

	* NEWS: Update for 2.2.0
	
2003-01-15  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added Vietnamese (vi), Arabic (ar),
	Finnish (fi) and Macedonian (mk) to ALL_LINGUAS.

2003-01-13  Richard Hult  <rhult@codefactory.se>

	* Release 2.1.5.

	* NEWS: Update for 2.1.5.
	
	* configure.in: Bump version to 2.1.5.

2003-01-10  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "ta" (Tamil) to the languages' list.

2002-01-09  Richard Hult  <rhult@codefactory.se>

	* data/ui/yelp.glade: Hide unimplemented options in the find
	dialog for now.
	
2002-01-09  Padraig O'Briain  <padraig.obriain@sun.com>

	* stylesheets/yelp-customization.xsl:
	Add entry for body tag attributes so that the colour of the text is 
	obtained from the GTK theme. Addresses issue raised in bug #95190.

2002-01-07  Naba Kumar  <naba@gnome.org>

	* configure.in: Added hi (hindi) in ALL_LINGUAS
	
2003-01-06  Richard Hult  <rhult@codefactory.se>

	* Release 2.1.4.

	* NEWS: Updated for 2.1.4.

	* configure.in: Bumped to 2.1.4.

2002-12-16  Richard Hult  <rhult@codefactory.se>

	* Release 2.1.3
	
	* NEWS: Updated for 2.1.3
	
	* configure.in: Bumped to 2.1.3

	* src/yelp-main.c: Fix warning.

2002-11-18  Fernando Herrera <fherrera@onirica.com>

	* yelp.desktop.in: add X-GNOME-BUGZILLA stuff

2002-11-08  Mark McLoughlin  <mark@skynet.ie>

	* src/yelp-main.c: (main): register yelp with
	bonobo-activation server on a per-display basis
	so that we get a new instace per display/screen.
	Fixes #91983.

2002-11-03  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Belarusian to ALL_LINGUAS

2002-11-01  Mikael Hallendal  <micke@codefactory.se>

	* Release 2.1.2

	* NEWS: Updated for 2.1.2

	* configure.in: 
	- Bumped to 2.1.2
	- Require gtkhtml2 2.1.2

2002-10-29  Richard Hult  <rhult@codefactory.se>

	* src/yelp-html-gtkhtml2.c (yelp_html_find): Implement find
	backward.

	* src/yelp-window.c (window_find_response_cb)
	(window_find_delete_event_cb, window_find_cb): Use the find
	dialog.
	(window_find_again_cb): Implement.

	* src/yelp-html-gtkhtml2.c (yelp_html_find): Implement find
	forward.

	* data/ui/yelp.glade: Steal galeons find dialog.

	* configure.in: Add libglade dependency.

2002-10-27  Richard Hult  <rhult@codefactory.se>

	* src/yelp-pregenerate.c (main): Don't create GNodes with g_new,
	use g_node_new. Fixes a crash.
	(parse_section): Initialize variables and break out of loop when
	we have a match.

2002-10-26  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-base.c: removed unused struct type.

2002-10-21  Mikael Hallendal  <micke@codefactory.se>

	* Released 2.1.1

	* NEWS: updated for 2.1.1

	* configure.in: 
	- bumped version to 2.1.1
	- depend on gtkhtml2 2.1.1

2002-10-21  Richard Hult  <rhult@codefactory.se>

	* src/yelp-view-content.c (content_show_uri): Ditto.

	* src/yelp-view-index.c (index_show_uri): Put head tag around meta
	and title tags.

	* src/yelp-main.c (main): Remove unused variable.
	Include string.h to avoid warnings.

	* src/yelp-view-content.c (content_show_uri): Don't try to set
	focus on view, use view->widget.

	* src/yelp-view-toc.c (toc_get_html):
	* src/yelp-view-index.c (index_get_html):
	* src/yelp-view.c (yelp_view_get_html): Implement
	YelpView::get_html.

	* src/yelp-view.h: Add virtual function get_html that returns the
	YelpHtml used by the view.

	* src/yelp-html-gtkhtml2.c (yelp_html_find_next): Implement.

	* src/yelp-html.h (yelp_html_find_next): Add virtual function
	find_next.

	* src/yelp-window.c (window_find_cb): The start of find
	functionality, needs more work.
	(window_init): Remove unused view_current variable.

2002-10-19  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-db2html.c (main): trying to fix #93814 by checking the
	  return value from g_path_get_dirname.

	* src/Makefile.am (yelp_LDADD): link with POPT_LIBS. 

	* configure.in: Check for popt, fixes #96168

	* src/yelp-uri.c (yelp_uri_no_path): added, support to easy check
	  if URI is of type 'index:' without any path.

	* src/yelp-view-index.c (index_show_uri): Don't try loading if URI
	  is just 'index:'. Fixes #95877

2002-10-19  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-reader.c:
	(reader_start): no need to check for YELP_URI_TYPE_GHELP_OTHER
	  since it will never get here with that URI type.
	(yelp_reader_start): Check for file, unknown and ghelp_other and
	  display it with gnome_uri_show, fixes #95181, thanks Paolo for
	  investigating this.

2002-10-08  Paolo Maggi <maggi@athena.polito.it>

	* src/yelp-window.[ch]: YelpWindow is now inherited from GnomeApp.
	  The window title is now "title - Help Browser", instead of  
	  "Help Browser:title", in this way you can see in the tasklist
	  applet the name of the loaded page. Removed the gconf stuff
	  since is no more needed. Note that Yelp still does not monitor
	  menus_have_icons gconf key 

	* src/yelp-view-content.c (content_show_uri): set the loading page
	  title to "Loading...", instead of ".."

	* src/yelp-view-index.c:
	(index_show_uri): ditto
	(set_relation): removed since no more needed
	(yelp_view_index_new): add an accellerator to "Search for:"

2002-10-04  Marius Andreiana <mandreiana@yahoo.com>

	* stylesheets/yelp-customization.xsl: made translatable the
	  following strings: Next,Previous,Contents,About This Document
	* stylesheets/l10n.xml: added strings Next,Previous,Contents
	
2002-10-04  Mikael Hallendal  <micke@codefactory.se>

	* NEWS: updated for 2.1.0

	* configure.in: bumped version to 2.1.0, did a large jump here to
	  reach GNOME version numbers.

	* autogen.sh: don't use gnome-common

2002-09-23  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-db2html.c: Don't include libgnome and gnome-vfs stuff.

	* configure.in: Added DB2HTML_* variables.

	* src/Makefile.am (test_uri_LDADD): use special LIBS for
	  yelp-db2html.

2002-09-23  Sander Vesik <sander.vesik@sun.com>

	* stylesheets/yelp-customization.xsl:
	- fix some cases of 'next' not leading anywhere on the TOC page
	- fix user guide documents occasionaly having the 'Previous' link
	  point to nowhere in the chunk "following" TOC

2002-09-20  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c: changed to reflect changes in the views.

	* src/yelp-view.[ch]:
	- added
	- new super class of the views.
	
	* src/yelp-view-content.[ch]: 
	* src/yelp-view-index.[ch]: 
	* src/yelp-view-toc.[ch]: 
	- removed signals
	- cleaning up and making it a YelpView subclass.

	* src/yelp-view-content.c: 
	- removed signals
	- cleaning up and making it a YelpView subclass.

	* src/Makefile.am (yelp_SOURCES): added yelp-view.[ch]

2002-09-03  Padraig O'Briain  <padraig.obriain@sun.com>
 
	* src/yelp-view-content.c (content_reader_finished_cb):
 	- Remove redundant call to gtk_tree_path_copy(). 
 	- Add casts to fix compiler warnings on Solaris.
 	- Do not focus HtmlView widget if we have a row in the content
	  tree. (Fixes #91708)

2002-09-17  Narayana Pattipati  <narayana.pattipati@wipro.com>

	* src/yelp-pregenerate.c (main): added an error message.

2002-09-16  Sander Vesik <sander.vesik@sun.com>

	* stylesheets/yelp-customization.xsl:
	- initial support for <appendix>

2002-09-16  Sander Vesik <sander.vesik@sun.com>

	* stylesheets/yelp-customization.xsl:
	- unindent copyright
	- leave space inbetween the 'Copyright' header and copyright
	  holders
	- emulate 'fine print' on licence text
	- make <TT> use monospaced font (should go into gtkhtml2)
	- give <variablelist>-s back internal spacing that was
	  originaly lost due to both <variablelist> and table of
	  contents resulting in the same html tags
	- change nested ordered lists to use "lower-alpha" instead of
	  "lower-roman" 
	- yet more fighting with table borders
	- make tables be consistently top aligned
	- leave space before figures and figure titles inside lists

	* stylesheets/yelp-custom.xsl:
	- wrap legalnotice in <div class="legalnotice">...</div>

2002-09-04  Mikael Hallendal  <micke@codefactory.se>

	* Release 1.0.6

	* NEWS: udpated for 1.0.6

	* configure.in: 1.0.6

2002-09-01  Marius Andreiana <mandreiana@yahoo.com>

	* configure.in: added 'ro' to ALL_LINGUAS

2002-08-29  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c: removed trailing comma in the enum. Fixes
	  #91789

2002-08-28  Mikael Hallendal  <micke@codefactory.se>

	* Release 1.0.5

	* configure.in: 1.0.5

	* NEWS: Updated for 1.0.5

2002-08-27  Kristian Rietveld  <kris@gtk.org>

	* src/yelp-view-content.c (content_reader_finished_cb): don't just
	  select that path, but set the cursor at that path (fixes
	  #91609).

2002-08-23  Mikael Hallendal  <micke@codefactory.se>

	* Release 1.0.4

	* configure.in: 1.0.4, updated gtkhtml2 reqs to 2.0.2

	* NEWS: Updated for 1.0.4
	
	* src/yelp-view-content.c:
	(yelp_view_content_show_uri): Applied patch from Padraig to fix
	focus handling. Fixes #90010.

2002-08-22  Kristian Rietveld  <kris@gtk.org>
 
	* src/yelp-man.c:
	(yelp_man_free_initial_tree): also free the node itself
	(yelp_man_cleaup_initial_tree): free the initial tree structure of
	  the nodes we're freeing here. 

2002-08-21  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-html-gtkhtml2.c (html_url_requested_cb): 
	- Don't use the full base-uri for resolving relative
	links. Instead use the path part of the base-uri. Fixes #91199

2002-08-20  Ross Burton  <ross@burtonini.com>
 
	* yelp.desktop.in: 
	- Fix the desktop file so that it validates correctly.
	
2002-08-16  Padraig O'Briain  <padraig.obriain@sun.com>

	* src/yelp-html-gtkhtml1.c
	* src/yelp-html-gtkhtml2.c
	* src/yelp-view-content.c
	* src/yelp-view-index.c
	* stylesheets/docbook/html/docdbook.xsl
	Remove reference to bgcolor being set to white (bug #89838)

2002-08-13  Mikael Hallendal  <micke@codefactory.se>

	* Release 1.0.3

	* configure.in: Bumped to 1.0.3

	* NEWS: Updated for 1.0.3

2002-08-13  Mikael Hallendal  <micke@codefactory.se>
 
	* src/yelp-man.c:
	(yelp_man_remove_duplicates_from_manpath): 
	- return a GSList instead
 	- Hopefully fixed #90385
	(yelp_man_init): using a GSList for manpathes instead of gchar **.
	
2002-08-07  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-toc.c: 
	- Removed the GNOME icon in the bottom
	- Removed the text in the bottom.
	- Removed the blue sidebar.

2002-08-07  Narayana Pattipati <narayana.pattipati@wipro.com>

	* src/yelp-reader.c (yelp_reader_start): Made changes to make yelp
          read the cached HTML files. Fixes #85258
	* src/yelp-pregenerate.c: new file. Creates yelp-pregenerate utility
          which pre-generates HTML files from XML files.
	* src/yelp-pregenerate.h: new file
	* src/yelp-reader.h: Added prototype for look_for_html_help_file

2002-08-05  Sander Vesik <sander.vesik@sun.com>
	* stylesheets/yelp-customization.xsl:
	- apply bold formating to guibuttons
	- apply mono formating to commands
	- fix left-margin instead of margin-left
	- relief from table formating quirks
	- leave space after inline media objects

2002-08-05  Mikael Hallendal  <micke@codefactory.se>

	* Release 1.0.2

	* NEWS: updated for 1.0.2

	* configure.in: 
	- Version updated to 1.0.2
	- Requirement on libgnome to 2.0.2
	- Requirement on gtkhtml2 to 1.99.10

2002-08-05  Sander Vesik <sander.vesik@sun.com>
	* src/yelp-db2html.c:
	- include quotes around stylesheet path so its correctly passed in

	* stylesheets/yelp-custom.xsl:
	- move parameterisation of admonition graphics to
	  yelp-customization.xsl 

	* stylesheets/yelp-customization.xsl:
	- make <b> create a consistent result
	- make bulleted and numbered list items align consistently

2002-08-04  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-scrollkeeper.c (scrollkeeper_parse_index): 
	- Will probably solve #89431.

2002-08-04  Padraig O'Briain  <padraig.obriain@sun.com>
	
	* src/yelp-reader.c (yelp_reader_start): Fixes #89038
	
2002-08-04  Mikael Hallendal  <micke@codefactory.se>


	* src/yelp-info.c (yelp_info_read_info_dir): 
	- support info files that is named name.gz. Fixes #85324.
	- Remove duplicates.

	* src/yelp-window.c:
	(window_init): don't automatically go to uri "toc:" in history. 
	(yelp_window_new): don't open "toc:", this is now done from
	  yelp_base_new_window 
	(yelp_window_open_uri): goto the uri in history, Fixes #86538.

	* src/yelp-base.c:
	(impl_Yelp_newWindow): don't show window and open_uri here. Do it in
	  yelp_base_new_window instead.
	(yelp_base_new_window): added a uri argument. If it's passed it's
	  opened, otherwise "toc:" is opened.

2002-08-04  Yogeesh MB <yogeeshappa.mathighatta@wipro.com> 

	* src/yelp-man.c: added function which removes multiple 
 	man pathes, fixes bug #75728
 
2002-08-02  Sander Vesik <sander.vesik@sun.com>
	* stylesheets/yelp-customization.xsl:
	- make list items have some space around them
	- make sublists have more consistent spacing
	- change list styles inside sublists

2002-08-01  Szabolcs Ban  <shooby@gnome.hu>

	* configure.in: Added "hu" to ALL_LINGUAS. Finally :)

2002-07-15  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-toc.c (toc_start): Print with %% instead of % to
	  printf, I'm stupid :) Fixes 87972, thanks
	  mathew@fugue.jpl.nasa.gov for finding this.

2002-07-11  Brian Cameron  <Brian.Cameron@sun.com>

	* yelp/configure.in
	* yelp/src/Makefile.am
	* yelp/src/yelp-reader.c
	Now support libgnome installing gnome2-man2html and gnome2-info2html
	to libexec.

2002-07-09  Mark McLoughlin  <mark@skynet.ie>

	* yelp.desktop.in: use X-GNOME-DocPath instead of DocPath.

2002-07-08  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-info.c:
	(yelp_info_read_info_dir): Removed possibility of buffer overflow
	  by using g_strdup_printf instead of strcpy. Fixes #87127. Thanks
	  to Laavanya K R for finding and proposing a solution.

2002-07-07  Glynn Foster  <glynn.foster@sun.com>

	* yelp.desktop.in (X-GNOME-DocPath): 

2002-07-06  Sander Vesik <sander.vesik@sun.com>
	* stylesheets/yelp-customization.xsl
	- make <part> and <chapter> have plain unstyled toc-s
	  until yelp.render.toc is sufficently advanced
	- correctly pass in a string parameter when matching /book
	- call correct titlepage template for <book>

2002-07-05  Sander Vesik <sander.vesik@sun.com>
	* stylesheets/yelp-customization.xsl
	- make <book> support somewhat work

2002-07-05  Sander Vesik <sander.vesik@sun.com>
	* stylesheets/yelp-customization.xsl
	- rationalize heading styles
	- don't center title
	- tweak list indenting

2002-06-28  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-info.c (yelp_info_init): sort info pages.

2002-06-27  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c: added patch from Kang Jeong-Hee to support
	  toolbar style "both_horiz". Fixes #85529

	* src/yelp-view-toc.c (toc_page_end): 
	- don't scale the gnome-button.
	- mark some strings for translation. Fixes #84020

2002-06-26  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c:
	- Fixes #84713
	(yelp_window_new): set icon on window.
	(window_load_icon): added, loads the gnome-help.png icon.
	(window_about_cb): set the icon in the about box.

	* README: removed old information

	* src/yelp-main.c: follow yelp style.

2002-06-19  Mikael Hallendal  <micke@codefactory.se>

	* Release 1.0.1

	* NEWS: updated for 1.0.1

	* configure.in: updated to 1.0.1

2002-06-10  Mikael Hallendal  <micke@codefactory.se>

	* Release 1.0

	* configure.in: updated to 1.0

2002-06-03  Mikael Hallendal  <micke@codefactory.se>

	* Release 0.10

	* NEWS: updated for 0.10

	* configure.in: 0.10

	* configure.in: bumped gtkhtml2 deps.

	* src/yelp-window.c (window_handle_uri): 
	- let the index view handle it's own uri's

	* src/yelp-view-content.c (content_reader_finished_cb): 
	- fixed a possible crash

	* src/yelp-view-index.c:
	- updated to the YelpReader stuff.
	- reenable showing docs in the html view here instead of content
	  view.

	* src/yelp-uri.c: 
	(yelp_uri_to_index): added, special treatment of index URI's.
	(yelp_uri_from_index): same.
	(yelp_uri_exists): handle index uri's correctly.

	* src/yelp-db2html.c (main): load the DTD so that enteties works.

	* src/yelp-view-content.c: 
	(content_find_path_from_uri): added, used to find the path to a
	  certain URI.
	(content_tree_model_foreach): added, used by above function.
	(content_reader_finished_cb): expand tree and select the correct
	  node. Fixes #80518

	* src/yelp-reader.h: finish signal includes the URI which finished
	  loading.

	* src/yelp-db2html.c: send path to the docbook stylesheets as a
          parameter. Still doesn't seem to fix the path problem with the
	  images.

2002-06-02  Mikael Hallendal  <micke@codefactory.se>

	* Fixes #69047

	* src/yelp-window.c (yelp_window_new): connect to title_changed
	  signal on content and TOC views.
	(window_title_changed_cb): set the new title.

	* src/yelp-view-toc.c: added title_changed signal. I soooo want
	  the views to inherit from the same base :) Will fix after 2.0.0
	(toc_html_title_changed_cb): emit title changed signal.
	(toc_page_start): take extra argument so that you can set title
	  and page header.

	* src/yelp-view-content.c: added signal title_changed. 
	(content_html_title_changed_cb): emit title changed signal.

	* src/yelp-html-gtkhtml2.c:
	(html_title_changed_cb): emit title changed signal.

	* src/yelp-html.h: added title_changed signal.

	* src/yelp-html-gtkhtml1.c: 
	- started on emit title changed	code. WIP.

	* src/yelp-uri.c:
	(uri_get_doc_type): set info:dir to be toc:info
	(uri_get_doc_path): same

	* src/yelp-db2html.c (main): use the shipped catalog file.

2002-06-01  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-uri.c (uri_get_path_from_relative): if URI can't get
	  resolved, set path to in-string.

	* src/yelp-window.c (window_handle_uri): show error dialog if URI
	  doesn't exist.
	(yelp_window_open_uri): don't return if URI doesn't exist.

	* src/yelp-uri.c: 
	- Added a type YELP_URI_TYPE_GHELP_OTHER so that I can recreate a
	  URI for error messaging.
	(yelp_uri_exists): do a check rather then just a look at the type.
	(uri_get_doc_type): don't check if URI exists here.
	(yelp_uri_to_string): handle GHELP_OTHER.

	* src/yelp-reader.c (reader_start): return if URI doesn't exists,
	  shouldn't happen.

	* src/yelp-uri.h: removed YELP_URI_TYPE_NON_EXIST, use
	  yelp_uri_exists.

	* stylesheets/docbook/Makefile.am: Install the images

	* stylesheets/docbook/images/*: Added some of the images from XSL
	  stylesheets. 

	* Fixes #83156

	* src/yelp-index-model.c:
	(yim_finalize): free the index list.
	(yelp_index_model_set_words): copy the list and don't sort.

	* src/yelp-base.c (yelp_base_new): sort the index list here.

	* src/yelp-view-toc.c (toc_page_start): removed all of the CSS
	  used to get it to not render huge fonts, now handled by
	  Gtkhtml2.

	* stylesheets/yelp-customization.xsl: 
	- don't hard code font size to 10pt. Use the font set by Gtkhtml2
	  (which is taken from the theme)

	* src/yelp-db2html.c (main): don't load the DTD from the net.

	* src/yelp-reader.c (reader_file_start): Fixed #83668

2002-06-01  James Henstridge  <james@daa.com.au>

	* src/yelp-db2html.c (main): perform XInclude processing on
	  Docbook/XML documents we load.

2002-06-01  Jesus Bravo Alvarez  <jba@pobox.com>

	* configure.in: Added "gl" (Galician) to ALL_LINGUAS

2002-05-29  Radek Doulik  <rodo@ximian.com>

	* src/yelp-html-gtkhtml1.c: 
	- removed #include "yelp-db2html.h"
	(html_url_requested_cb): close gtkhtml stream

2002-05-31  Mikael Hallendal  <micke@codefactory.se>

	* configure.in (yelp): define yelplocaledir, Fixes #83639

	* src/Makefile.am (INCLUDES): use yelplocaledir

2002-05-31  Ross Burton  <ross@burtonini.com>

	* src/yelp-window.c (window_about_cb): Tell the about dialog who
	  its parent is, so that it appears at the right location.

2002-05-31  Yogeesh MB <yogeeshappa.mathighatta@wipro.com> 

	* src/yelp-main.c: fixes save session bug, #82605 

2002-05-31  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-reader.c (reader_get_chunk):
	- return the full document if finding the chunk comments
	  fail. This is better than just returning NULL. Also silence the
	  warnings for now.

	* Release 0.9.1

	* configure.in: bumped version to 0.9.1

	* NEWS: updated for 0.9.1

	* stylesheets/docbook/*: 
	- Added the 1.48 stylesheets until the stylesheet issues have been 
	  sorted out. Norm has said that in the 1.50+ the changes between
	  the different versions will not cause breakage and we can then
	  use current instead of a certain version of these. Lots of
	  distributions don't ship 1.48 and this will cause lots of
	  troubles for the users.

	* stylesheets/yelp-customization.xsl: use a relative link to
	  reference to the stylesheets.

	* stylesheets/Makefile.am (SUBDIRS): added docbook

	* configure.in: output stylesheet/docbook/Makefile

2002-05-27  Mikael Hallendal  <micke@codefactory.se> 

	* Release 0.9

	* src/Makefile.am: build fix for marshallers.

	* NEWS: updated for 0.9

	* configure.in: 
	- Bumped version to 0.9
	- Updated libgnome deps to 1.117.2
	- Updated gtkhtml2 deps to 1.99.8

	* src/yelp-reader.c: 
	- removed old code.
	- fixed a couple of warnings

	* stylesheets/yelp-customization.xsl: don't include section names
	  on toc and title-page.

	* src/yelp-view-content.c (yelp_view_content_show_uri): 
	- don't set "Loading..." if the doc is cached. It will only result
	  in flicker.

	* src/yelp-reader.c:
	(reader_man_info_start):
	- make sure that section is not an empty string.
	(yelp_reader_start): 
	- make sure that section is not an empty string.
	- return a boolean to say if the document was cached or not.
	
	* src/yelp-reader.c:
	(reader_get_chunk): added, used to get a chunk from a multi
	  chunked document.
	(reader_man_info_start): 
	- now handles docbook too. will be renamed later.
	- add docbook results in cache.
	- get chunk from document if docbook.
	(yelp_reader_start): 
	- check in cache if document is there, if so, just get the chunk 
	  and signal. 
	- if not in cache, use g_timeout_add instead of idle.

	* src/yelp-db2html.c: 
	- this is now it's own binary
	- use multichunk
	- don't use YelpURI so that we don't need to init gnome vfs

	* src/yelp-db2html.h: removed
	
	* src/yelp-cache.c: first dummy implementation of cache.

	* src/yelp-base.c (yelp_base_init): init the cache.

	* src/Makefile.am:
	(yelp_db2html_LDADD): added binary for db2html.
	(yelp_SOURCES): added yelp-cache.[ch] and removed 
	  yelp-db2html.[ch]

2002-05-26  Mikael Hallendal  <micke@codefactory.se>

	* stylesheets/yelp-customization.xsl: 
	- Don't include section name in end comment.
	- put [] around the section name in start tag.
	
2002-05-26  Alessio Frusciante  <algol@firenze.linux.it>

	* configure.in: added "it" to ALL_LINGUAS

2002-05-23  Jacob Berkman  <jacob@ximian.com>

	* src/Makefile.am (yelp-marshal-main.c): add explicit dependency
	on yelp-marshal.c to make automake work

2002-05-23  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-content.c:
	(yelp_view_content_new): shrink TOC-tree width

	* src/yelp-html-gtkhtml1.c (html_link_clicked_cb): 
	- don't shortcut info

2002-05-22  Sander Vesik <sander.vesik@sun.com>

	* stylesheets/yelp/customization.xsl:
	- fix whitespace around 'About This Document'
	- whitespace reduction for headers
	- try to fix table of contents links not showing up for Hallski
	- the 'previous' link on a first sect2 of a sect1 
	- work on indirect previous links
	- display the document title as a H1 on the TOC page instead of
	  having it in the navbar

2002-05-23  Mikael Hallendal  <micke@codefactory.se>

	* src/Makefile.am (yelp_SOURCES): use yelp-marshal-main.c instead
	  of yelp-marshal.c and yelp-marshal.h

	* src/yelp-marshal-main.c: added to get rid of warnings in
	  yelp-marshal.c

2002-05-22  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-db2html.c (yelp_db2html_convert): 
	- use the new stylesheet parameter gdb_stylesheet_path.

	* src/yelp-reader.c (reader_man_info_start): support chunked info.

	* src/yelp-html-gtkhtml2.c
	(html_link_clicked_cb): don't shortcut if info. it's now chunked.

	* src/yelp-reader.c: use yelp-db2html again.

	* src/yelp-db2html.c: use #define for stylesheet location instead
	  of creating a string with it.

	* src/Makefile.am (yelp_SOURCES): don't include yelp-db2html.

	* src/yelp-reader.c (reader_db_start): 
	- try to do the docbook-stuff here instead.

	* src/yelp-view-toc.c (toc_page_end): updated footer some.

2002-05-22  Richard Hult  <rhult@codefactory.se>

	* src/yelp-view-toc.c:
	(toc_man_emit): free return from yelp_uri_to_string.

	* src/yelp-util.c (yelp_util_compose_path_url): free path

	* src/yelp-man.c (yelp_man_init): free manpathes

2002-05-22  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-db2html.c: 
	- cleaning up
	- made to use YelpURI instead of copying parts from it
	- plugged leaks.

	* src/test-reader.c (main): create reader without an argument.
	* src/yelp-view-content.c (content_init): same

	* src/yelp-reader.c: always be async, don't be optional.

	* src/yelp-view-toc.c (toc_page_end): added a space, thanks rhult.

	* src/yelp-window.c (window_about_cb): 
	- fixed copyright notice in about dialog. Thanks menthos.

	* src/test-reader.c:
	(main): call yelp_reader_new with TRUE for async.
	(data_cb): swapped buffer and len arguments.

2002-05-21  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-reader.c:
	(reader_db_write): don't return -1
	(reader_db_close): same.

	* Release 0.8

	* NEWS: updated for 0.8

	* configure.in: bumped version to 0.8

	* src/yelp-reader.c: fixed compile warning.

	* src/yelp-uri.c: fixed so that external links are working too.

	* src/yelp-view-toc.c: implemented jimmac's mockups.

	* src/yelp-uri.c: added support for file:

	* src/Makefile.am (INCLUDES): added IMAGEDIR

	* data/images/*: new files

	* data/Makefile.am: new file

	* configure.in: 
	- added data/Makefile, data/images/Makefile to AC_OUTPUT.

	* Makefile.am (SUBDIRS): added data

2002-05-20  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-content.c: 
	- use YelpURI instead of docpath for current_uri. 
	(yelp_view_content_show_uri): 
	- Fixed a problem that if you viewed a man page and then switched
 	  to a docbook with TOC you didn't get the TOC.
	- Change cursor here.
	- Write out "Loading..." to the html-view instead of showing old
	  data while reading.
	(content_reader_data_cb): clear the "Loading..."-message first
	  time this is called.
	(content_reader_finished_cb): 
	- Fixes #82363
	- Give focus to html widget.

	* src/yelp-man.c (yelp_man_populate_tree_for_subdir): 
	- Set the link to be page.secnum instead of page.section.
	  For example pages with foo.3pm should have the link foo.3, this
	  solves the problem where you get the error that page is not
	  found. Might fix #82346.

2002-05-20  Sander Vesik <sander.vesik@sun.com>

	* stylesheets/yelp-customization.xsl:
	- render formal tables just like informal tables
	- always leave some space between the bottom navbar and the text
	- make notes and other admonitions to be unindented
	- add whitespace for tables appearing within lists
	- improve looks of complex tables

2002-05-20  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-reader.c: be ASYNC! :) and handle cancels. Starting to
	  be nice now.

	* src/yelp-marshal.list: VOID:INT,STRING -> VOID:STRING,INT

	* src/yelp-reader.c (yelp_reader_start): renamed from reader_read.

2002-05-20  Sander Vesik <sander.vesik@sun.com

	* stylesheets/yelp-custom.xsl, stylesheets/yelp-customization.xsl:
	  introduce a new parameter and use it so images distributed
	  with the stylesheet get picked up correctly

2002-05-18  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-info.c (yelp_info_init): 
	- Fixes #80981 (hopefully)
	- Thanks to StÃ©phane DÃ©murget for notifying where the error was.

	* src/yelp-view-toc.c (toc_info): fixed mem leak.

	* configure.in (YELP_IDL_INCLUDES): readded bzip2 check, doh!

	* src/yelp-view-toc.c: 
	(toc_start): fixed mem leak
	(toc_scrollkeeper): fixed mem leak

	* src/yelp-view-toc.h: don't include gtkhtml2 headers.

	* src/yelp-view-toc.c: 
	- include libxml/parser.h now that we don't include gtkhtml2
	  headers here any more.

	* src/yelp-html-gtkhtml1: 
	- Added
	- Makes yelp use GtkHTML1 for HTML rendering instead of GtkHTML2.
	
	* src/yelp-html-gtkhtml2: Renamed from yelp-html.c

	* src/yelp-html.c: Moved to yelp-html-gtkhtml2.c

	* src/Makefile.am (html_widget_impl): check for the correct
	  html-widget implementation.

	* configure.in: 
	- added --with-html-widget switch which controls if GtkHTML1 or
	  GtkHTML2 should be used. Default is GtkHTML2
	- Check for gtkhtml1 libraries and headers if that library should
	  be used.
	- Removed bzip2-check, left over from when I tried to merge
	  man2html into yelp.

2002-05-18  Richard Hult  <rhult@codefactory.se>

	* src/yelp-window.c: Use stock item for about menu item. 

2002-05-18  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c: 
	- don't handle YelpViewTOC as a html view any more. 
	- use yelp_view_toc_get_widget when you need the widget.

	* src/yelp-view-toc.c: 
	- don't inherit HtmlView, instead be a GObject (make all the views
	  a common base class).
	- Removed html view stuff and use YelpHtml instead.
	(toc_link_clicked_cb): removed
	(toc_open): removed, use yelp_html_clear
	(toc_close): removed, use yelp_html_close
	(toc_write): removed, use yelp_html_write
	(toc_printf): removed, use yelp_html_printf
	(yelp_view_toc_open_uri): don't try to set adjustment, not a html
	  view any more
	(toc_uri_selected_cb): added, signal from YelpHtml, just proxy.

	* src/yelp-html.c 
	(yelp_html_new): 
	- Just set the view to be white
	- Use the yelp_html_* functions instead of html_* directly.
	(yelp_html_write): 
	- Swapped len and data arguments.
	- If len = -1, assume NULL terminated string and use strlen.
	(yelp_html_printf): added from yelp-view-toc.

	* src/yelp-view-toc.c: conform with style.
	* src/yelp-window.c: same.
	* src/yelp-history.c: same.
	* src/yelp-scrollkeeper.c: same.

	* src/yelp-view-index.c (yelp_view_index_show_uri): 
	- commented out call to yelp_html_open_uri since it's been
	  removed.

	* src/yelp-view-content.c: 
	- changed name on internal functions to conform with style.
	- moved functions from yelp-html.c
	- use the YelpReader to read the data instead of letting YelpHtml
	  handle it.
	(yelp_view_content_stop): removed.

	* src/yelp-html.c: 
	(html_reader_start_cb): moved to yelp-view-content.c
	(html_reader_data_cb): same
	(html_reader_finished_cb): same
	(html_reader_error_cb): same
	(yelp_html_clear): added/impl.
	(yelp_html_write): added/impl.
	(yelp_html_close): added/impl.
	(yelp_html_cancel_loading): removed
	(yelp_html_open_uri): removed
	(yelp_html_set_base_uri): added/impl.

	* src/yelp-reader.c:
	(reader_man_info_start): emit "start"-signal.
	(reader_io_watch_cb): do the right thing (hopefully) :)

	* src/yelp-html.c: 
	(html_do_write): removed
	(html_do_close): removed
	(html_do_docbook): removed
	(html_io_watch_cb): removed
	(html_reader_start_cb): added/implemented, temporary
	(html_reader_data_cb): added/implemented, temporary
	(html_reader_finished_cb): added/implemented, temporary
	(html_reader_error_cb): added/implemented, temporary
	(html_do_maninfo): removed
	(html_do_html): removed
	(html_init): connect to reader signals.
	(yelp_html_open_uri): removed lots of code and use YelpReader
	  instead. This should be removed entirely later on.

	* src/yelp-html.c: 
	- renamed static functions to correspond to style.

	* src/yelp-reader.h: 
	- removed YelpReaderStatus.

	* src/yelp-reader.c: 
	- Now handles docbook, man, info, plain files, and external URI's.
	(reader_class_init): 
	- added signals "start", "data", "finished" and "error".
	(reader_db_start): added/impl.
	(reader_db_write): added/impl.
	(reader_db_close): added/impl.
	(reader_man_info_start): added/impl.
	(reader_io_watch_cb): added/impl.
	(reader_file_start): added/impl.
	(yelp_reader_read): take reader as argument and implemented.

	* src/yelp-marshal.list: added marshal needed by YelpReader.

	* src/yelp-html.c (yelp_html_do_docbook): 
	- take URI instead of text doc path and section.

	* src/yelp-db2html.c (yelp_db2html_convert): 
	- take a URI instead of text doc path and section.
	- don't close OutputBuffer here.

	* src/test-reader.c:
	(start_cb): added
	(data_cb): added
	(finished_cb): added
	(main): start using the yelp-reader for testing.

	* src/Makefile.am (test_reader_SOURCES): 
	- added files needed for this test program.

2002-05-08  Mikael Hallendal  <micke@codefactory.se>

	* src/test-reader.c: added, test file for the YelpReader.

	* src/Makefile.am (yelp_SOURCES): 
	(test_reader_SOURCES): added test-reader
	- added yelp-reader.[ch]

	* src/yelp-uri.[ch]: 
	- removed the YelpReader-stuff from here.

	* src/yelp-reader.[ch]: 
	- starting on this class that will take care of reading any given
	  YelpURI *uri and signalling when there is something to read.

2002-05-07  Christophe Merlet  <christophe@merlet.net>

	* src/Makefile.am: Really add ??!! $(DESTDIR) variable.

2002-05-07  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-section.c:
	(yelp_section_new): check if name == NULL, hopefully fixes #80981.

	* src/yelp-scrollkeeper.c:
	(ys_parse_index_item): reverted my own stupidity.

2002-05-06  Sander Vesik  <sander.vesik@sun.com>

	* stylesheet/yelp-customization.xsl: 
	- initial support for <part>
	- fix informaltable display
	- fix revhistory display
	- fix non-centering of 'Contents' in the footer navbar
	- fix display of copyright holders on title page
	- improvements to the Table of Contents page

2002-05-06  Mikael Hallendal  <micke@codefactory.se>

	* NEWS: fixup

	* configure.in (GNOMELOCALEDIR): updated libgtkhtml2 deps.

	* Release 0.7
	
	* NEWS: updated for 0.7

	* configure.in: bumped version to 0.7

	* src/yelp-scrollkeeper.c:
	- Fixes #80800
	(ys_parse_index): silenced warning.

	* src/yelp-window.c: 
	- use YelpURI.
	(yw_handle_uri): somewhat cleaned up after YelpURI.

	* src/yelp-view-toc.c: 
	- use YelpURI.
	- Changed url_selected signal to uri_selected.
	- Send the links as man:... instead of path:..

	* src/yelp-view-index.c: 
	- use YelpURI.
	- Changed url_selected signal to uri_selected.
	- thinking about removing the html-view from this and only have it
	  as a entry + list for now. Later on we can add full text search
	  or more sofisticated searching.

	* src/yelp-view-content.c: 
	- use YelpURI.
	- Changed url_selected signal to uri_selected.
	(yelp_view_content_show_uri): 
	- cleaned up A LOT since this became much much easier with
	  YelpURI.

	* src/yelp-util.c (yelp_util_is_url_relative): 
	- made external and changed name from is_uri_relative.
	(yelp_util_resolve_relative_url): 
	- chagned name from yelp_util_resolve_relative_url.
	(tree_find_node_uri): use YelpURI.
	(yelp_util_find_node_from_uri): same.

	* src/yelp-uri.c:
	- Thinking of making the YelpURIType a bit mask so that I can add
	  yelp_uri_is_type (YELP_URI_TYPE_MAN | YELP_URI_TYPE_INF) since 
	  that kind of usage is all over.
	- Support index: and path: (not sure if we need path:)
	(yelp_uri_copy): added/impl
	(yelp_uri_get_relative): added/impl
	(yelp_uri_equal): added/impl.
	(yelp_uri_equal_path): added/impl.
	(yelp_uri_equal_section): added/impl.
	(yelp_uri_to_string): added/impl.

	* src/yelp-section.c: 
	- use YelpURI.
	- Removed reference, scheme.

	* src/yelp-scrollkeeper.c: 
	- use YelpURI.
	- Don't create specific index:-uri's
	(ys_parse_index_item): this was actually broken and only inputed
	  the last indexitem in the index-file. fixed.

	* src/yelp-marshal.list (VOID:POINTER,BOOLEAN): 
	- replaced VOID:STRING,STRING,BOOLEAN (the old
 	  url_selected-marshal).

	* src/yelp-man.c: 
	- use YelpURI
	- Don't create specific index:-uri's
	(yelp_info_init): don't translate string 'man' which we are
	  trying to find with strcmp in yelp-view-toc.

	* src/yelp-info.c: 
	- use YelpURI
	- Don't create specific index:-uri's
	(yelp_info_init): don't translate string 'info' which we are
	trying to find with strcmp in yelp-view-toc.

	* src/yelp-html.c: 
	- Updated to use YelpURI.
	- changed signal from url_selected to uri_selected (emits YelpURI
	  instead of base_uri + rel_uri).
	(yelp_html_do_maninfo): take a YelpURI instead of text uri + doc
	  type.
	(yelp_html_open_uri):
	- take YelpURI instead of text uri.
	- this should later be moved into yelp_uri_{read,read_async}.

	* src/yelp-history.c: Updated to use YelpURI.

	* src/yelp-base.c (impl_Yelp_getWindows): use YelpURI.

	* src/test-uri.c: test yelp_uri_to_string.

2002-05-06  Sander Vesik <sander.vesik@sun.com>

        * stylesheets/yelp-customization.xsl: Initial multichunking code

2002-05-05  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-uri.c (uri_get_doc_type): 
	- Also handle toc:-uri's
	(yelp_uri_exists): return correct answer :)

	- Now implements jrb's ghelp-uri scheme.
	- added doc_path-argument so that it doesn't have to be calculated
	  twice when creating a YelpURI.
	(uri_get_path_from_relative): added/impl.
	(uri_locate_help_file): added/impl.
	(uri_locate_help_file_with_lang): added/impl.
	(yelp_uri_new): removed the GError-argument.

	* src/test-uri.c (main): 
	- be a GnomeProgram so that it can actually test something :)

	* src/yelp-error.h: added YELP_ERROR_URI_NOT_EXIST

	* src/yelp-uri.[ch]: 
	- Added, this is functions for manipulating and working with the
	  different uri-schemes possible.

	* src/Makefile.am:
	- added test-uri.
	- added yelp-uri.[ch]

2002-05-04  Sander Vesik <sander.vesik@sun.com>

	* stylesheets/yelp-customization.xsl: remove non-linking Next >>>
	  and change the codition that triggers table of contents in hopes
	  it fixes the bug where it is not displayed

2002-05-02  Sander Vesik <sander.vesik@sun.com>

	* stylesheets/yelp-customization.xsl: add 'About This Document' link,
	  change toc to contents, change prev to previous, fix whitespace in
	  itemized lists and variable lists

2002-05-02  Jacob Berkman  <jacob@ximian.com>

	* configure.in: bump version back to 0.6.99

2002-05-01  Sander Vesik <sander.vesik@sun.com>

	* stylesheets/yelp-customization.xsl:	introduce css

2002-05-01  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-toc.c (yelp_view_toc_start): translation fix
	  reported by Jordi Mallach.

2002-04-29  Christophe Merlet  <christophe@merlet.net>

	* src/Makefile.am: Added $(DESTDIR) variable.

2002-04-29  Mikael Hallendal  <micke@codefactory.se>

	* Release 0.6.1

	* configure.in: bumped version to 0.6.1

	* NEWS: updated for 0.6.1

2002-04-28  Mikael Hallendal  <micke@codefactory.se>

	* src/Makefile.am (INCLUDES): removed -I$(includedir).

2002-04-28  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added "vi" entry to ALL_LINGUAS.

2002-04-27 John Fleck <jfleck@inkstain.net>

	* yelp-db2html.c
	  load/parse the DTD

2002-04-05 Jonathan Blandford  <jrb@redhat.com>

	* src/yelp-info.c (yelp_info_read_info_dir): remove unneeded
	  special case.

2002-04-23  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-util.c (yelp_util_extract_docpath_from_uri): 
	- some more fixes.

	* src/yelp-view-toc.c: added lots of \n to the outputed html,
	  makes it easier to read it.

	* src/yelp-util.c (yelp_util_extract_docpath_from_uri): 
	- make this return a string with all duplicate // printed as /.
	- This solves some IMPORTANT issues.
	- Though I did this in a lazy way (by calling gnome_vfs_uri_new
	  and then back to string with gnome_vfs_uri_to_string. Should 
	  probably look into if there is a function in gnome-vfs that does
	  this.

	* src/yelp-html.c (yelp_html_io_watch_cb): 
	- made this actually work as expected. 
	- don't use g_io_channel_read, use g_io_channel_read_chars
	  instead.

2002-04-22  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-content.c (yelp_view_content_show_uri): 
	- split the url and send the section in the correct way to
	  yelp_html_open_uri.

	* src/yelp-util.c (yelp_util_extract_docpath_from_uri): 
	- don't include the section/anchor/reference in the returned
	  string.
	(yelp_util_resolve_relative_uri): handle #-sections too (html).

	* src/yelp-html.c:
	(yelp_html_do_html): added.
	(yelp_html_do_docbook): get the section too.
	(yelp_html_io_watch_cb): 
	- also finish if we couldn't read as much as we wanted.
	- if section exists, jump to anchor.
	(yh_url_requested_cb): correctly handle relative url's.
	(yh_link_clicked_cb): don't shortcut if section is specified with
	  '?' which means it's docbook (which are chunked, not one big
	  document with anchors). 
	(yelp_html_open_uri): handle html, fixes: 79015

2002-04-19  Sander Vesik <sander.vesik@sun.com>
	* stylesheets/yelp-customization.xsl: make "indirect" links work
	  and make several beautification changes

2002-04-18  Sander Vesik <sander.vesik@sun.com>
	* stylesheets/yelp-customization.xsl: include yelp-custom.xsl
	  instead of gnome-custom.xsl, "fix" whitespace, collect link
	  cell drawing into their own templates, fix alignment of
	  links in the navbars

2002-04-18  Changwoo Ryu  <cwryu@debian.org>

	* configure.in (ALL_LINGUAS): Added ko (Korean).

2002-04-18  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-html.c: 
	- Use g_spawn_async_with_pipes and then io_watch to read the data
	  in asynchronous.

	* src/yelp-man.c (yelp_man_populate_tree_for_subdir): set the uri
	  for man-pages to be man:name.section instead of full path. Seems 
	  to work much much better this way.

	* src/yelp-html.c: 
	- removed is_doc from read_data-struct, not used anymore
	- Don't use the GnomeVFS module, instead call the external
	  programs directly with g_spawn.
	(yelp_html_do_non_docbook): removed, replaced by do_maninfo.
	(yelp_html_do_maninf): added. This will soon be rewritten to use
	  g_spawn_async_with_pipes.
	
2002-04-16  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added "zh_TW" to ALL_LINGUAS.

2002-04-15  Mikael Hallendal  <micke@codefactory.se>

	* configure.in: bumped version to 0.6.99

	* Release 0.6

	* configure.in: bumped version to 0.6

	* src/yelp-window.c: fixed a couple of warnings.
	(yw_handle_url): send the error correctly to gnome_url_show,
	  thanks rhult :)

	* configure.in: bumped gtkhtml2 requirements.

	* src/yelp-html.c (yelp_html_do_non_docbook): 
	- show error dialog if open fails.

	* src/yelp-error.h (YELP_ERROR): added error for non-docbook
	  documents.

	* src/yelp-db2html.c (yelp_db2html_convert): use stylesheet from
	  stylesheets/.
	(yelp_db2html_convert): updated to reflect changes in the
	  stylesheet.

	* stylesheets/*: Added, includs patch from sander to
	  gnome-doc-list.
	
	* configure.in (AC_OUTPUT): added stylesheets/Makefile.

	* Makefile.am (SUBDIRS): added stylesheets

2002-04-14  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-toc.c: pretty-fied the sub-pages too.

	* src/yelp-window.c (yw_handle_url): pass the error to
	  gnome_url_show.

	* src/yelp-db2html.c (yelp_db2html_convert): better
	  error-handling.

	* src/yelp-html.c:
	(yelp_html_idle_read_end): don't free the handle twice.
	(yelp_html_idle_read_end): reset pointer to normal.
	(yelp_html_open_uri): set cursor to watch.

	* src/yelp-window.c (yw_handle_url): If error is set during
	  set_uri, popup an error-dialog describing the error.

	* src/yelp-html.c: 
	- Added support for GError's
	* src/yelp-view-index.c: same.
	* src/yelp-view-content.c: same.

	* src/yelp-db2html.c: 
	- Include gnome-i18n.h
	- Mark the error messages for translation.
	
	(yelp_db2html_convert): revert a little, in wait for sanders new
	  stylesheets.
	- use GError to signal errors while parsing document. Still needs
	  to be added to above layers. 
	- don't leek the stylesheet name.

	* src/yelp-error.[ch]: added.

	* src/yelp-view-content.c: added includes to fix warnings.

	* src/yelp-view-index.c: same.

	* src/yelp-util.c (yelp_util_extract_docpath_from_uri): 
	- added support for man and info pages too.

	* src/yelp-html.c: 
	- loads of changes :)
	- don't use GnomeVFS Async calls.
	- Read non-docbook data in an idle
	- Shortcut the gnome vfs help module and call internal
	  docbook2html code instead if document is xml/sgml docbook.
	- Needs more cleaning up and breaking out into another file/class.
	- Don't inherit HtmlView, instead inherit GObject and have a
	  get_widget function.

	* src/yelp-db2html.[ch]: added from libgnome. Use this in-proc
	  instead of calling as external scripts.

	* src/Makefile.am (yelp_SOURCES): added yelp-db2html.[ch]

	* configure.in (GNOMELOCALEDIR): depend on libxslt for the
	  docbook->html conversion.

2002-04-12  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-toc.c (TOC_BLOCK_SEPARATOR): fixed string, thanks
	  menthos.

2002-04-11  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-toc.c (yelp_view_toc_start): changed the string
	  "Get Help on..." to "Help Contents" by suggestion from Calum.

	* configure.in (GETTEXT_PACKAGE): added ja to ALL_LINGUAS

	* src/yelp-view-toc.c:
	- did some cleanups
	- make output in first page look nicer.
	- Changed a few strings, SORRY!! Fixes: #73439

	* src/yelp-view-content.c (yelp_view_content_stop): added/impl.

	* src/yelp-util.c:
	(tree_find_node_uri): renamed from tree_find_node.
	(yelp_util_find_node_from_name): added/impl.
	(tree_find_node_name): added/impl.

	* src/yelp-html.c:
	(yh_init): set content-type to utf8 on the loading document.
	(yelp_html_cancel_loading): added, doesn't do anything yet.

2002-04-10  Richard Hult  <rhult@codefactory.se>

	* src/yelp-view-index.c (yelp_view_index_new): Add a bit of
	padding around the search label.
	Put the index list in a frame with IN shadow.

2002-04-10  Padraig O'Briain  <padraig.obriain@sun.com>

	* src/yelp-scrollkeeper.c (ys_parse_index):
	Fix small memory leak (#77733)

2002-04-04  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c: use GConf for the toolbar style.

	* src/yelp-html.c: added a "Loading..." while loading the
	  document. New string, sorry about that. This also needs a new
	  change in gtkhtml2 so I'll update the reqs after the next
	  release of gtkhtml2.

	* configure.in (GNOMELOCALEDIR): added gconf-2.0

2002-04-03  Gustavo Maciel Dias Vieira  <gdvieira@zaz.com.br>

	* configure.in (ALL_LINGUAS): Added pt_BR.

2002-03-25  Mikael Hallendal  <micke@codefactory.se>

	* NEWS: updated (oops, missed 0.5 release).

	* configure.in: bumped version to 0.5

2002-03-24  Zbigniew Chyla  <cyba@gnome.pl>

	Fixes #72583

	* src/yelp-view-toc.c (yelp_view_toc_write_header):
	Put <meta http-equiv="Content-Type" ...> _before_ <title> tag
	so that document's encoding is known before we encounter localized
	title (UTF-8 string).

2002-03-23  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-info.c (yelp_info_init): 
	- Fixed #75218
	- Read INFOPATH to locate path to info files.

	* src/yelp-util.c:
	(yelp_util_extract_docpath_from_uri): reverted this to it's
	  initial behaviour.
	(yelp_util_split_uri): added this instead which supports
	  ghelp/man/info uri's. It also always have the type of uri 
	  prepended in the return uri.

	* src/yelp-html.c (yelp_html_open_uri): this function is getting
	  ugly, have to clean it up.
	(yelp_html_open_uri): use yelp_util_split_uri intead to get the
	  docpath and the anchor (it supports man and info too, not just
	  ghelp:-uri's. Fixes #72637).

	* src/yelp-window.c: commented out the Quit-option, we might not
	  want to have it around because you often use Yelp in another way
	  (ie. klicking Help in an application). Fixes #75081

	* src/yelp-view-toc.c (yelp_view_toc_open_url): scroll to the
	  beginning of the document after reading it. Fixes #72965

	* src/yelp-util.c:
	(yelp_util_extract_docpath_from_uri): added an argument if we want
	  the return docpath to be prepended with "ghelp:" or not.
	(yelp_util_find_anchor_in_uri): added/impl.

	* src/yelp-scrollkeeper.c (ys_parse_toc_section): use strstrip
	  instead of strchomp to clean up the name.

	* src/yelp-html.c:
	(yh_link_clicked_cb): also jump if the relative reference is ?foo
	(yelp_html_open_uri): don't reload the page if it's the same as
	  already showing.

2002-03-20  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-index.c (set_relation): style-fixes.

2002-03-20  Jagadeesh B. G  <jagadeesh.bana@wipro.com>

	* src/yelp-view-index.c: Set atk relation for search entry and
	  label as part of accessibility changes

2002-03-20  Padraig O'Briain  <padraig.obriain@sun.com>

	* src/yelp-window.c (yw_handle_url): Call yelp_view-content)show_uri()
	before gtk_notebook_set_current_page() (#75570)

2002-03-20  Christophe Merlet  <redfox@eikonex.org>

	* configure.in: Added fr to $ALL_LINGUAS.

2002-03-19  Mikael Hallendal  <micke@codefactory.se>

	* configure.in: bumped version to 0.4.99

	* Release 0.4
	
	* configure.in: updated to 0.4

2002-03-19  Sandeep V Honde  <sandeep.honde@wipro.com>

	* src/yelp-main.c:
	- Session management support for multiple
	  windows added.
	  (yelp_save_session)    :modified.
	  (yelp_restore_session) :added/impl.

2002-03-04  Mikael Hallendal  <micke@codefactory.se>

	* configure.in: bumped version to 0.3.99

	* Release 0.3

	* configure.in: 
	- updated version to 0.3
	- updated deps of libgnome and gtkhtml2

	* NEWS: updated for 0.3

2002-03-05  Wang Jian  <lark@linux.net.cn>

	* configure.in: Added "zh_CN" to ALL_LINGUAS.

2002-03-04  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* src/yelp-window.c: add a comment for translators

2002-03-03  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-man.c:
	- Fixes #73292
	(yelp_man_populate_tree_for_subdir): add to section index list.
	(yelp_man_init): concat the man index list with the global.

	* src/yelp-info.c (yelp_info_init): call strdown on the names
	  before adding to index.

	* src/yelp-index-model.c (yelp_index_model_filter): don't show all
	  index-words by default. Only show the words matching the
	  query. Not sure what is the best way to do this, but with all
	  man and info pages in the index it got pretty crowded.

	* src/yelp-base.c (yelp_base_new): pass index to man_init.

	* src/yelp-window.c (yelp_window_new): fixed an error if you don't
	  have an index installed (thanks rhult).

	* src/yelp-index-model.c: use the new YELP_SECTION-macro.
	* src/yelp-view-toc.c: same.
	* src/yelp-util.c: same.
	* src/yelp-scrollkeeper.c: same.

	* src/yelp-section.h: added casting macro YELP_SECTION.

	* src/yelp-base.c (yelp_base_new): pass index-list to info init.

	* src/yelp-info.c (yelp_info_init): 
	- Fixes #73291
	- added index-list to argument.
	- add info pages to index-list.

	* src/yelp-view-toc.c (yelp_view_toc_start): 
	- Fixes #72146
	- Don't show "Other documents" if neither man or info are
	  installed.
	- Don't show "Manual pages" link if no man pages are installed
	- Don't show "Info pages" link of no info pages are installed.

	* src/yelp-man.c (yelp_man_init): 
	- return FALSE and don't create a topnode 'man' in the content
	  tree if there weren't any man pages installed.

	* src/yelp-info.c (yelp_info_init): 
	- return FALSE if no info pages was found. Also don't create the
	  topnode 'info' in the content-tree if there weren't any pages.

	* src/yelp-html.c: removed commeted code.

	* src/yelp-base.c (yelp_base_new): don't care about the result for
	  now.

	* src/yelp-info.c:
	- Fixes #73270
	(yelp_info_read_info_dir): renamed from
	  yelp_info_populate_tree_for_subdir. It not takes a list instead.
	(yelp_info_init): First read the sections into a list, sort it and
	  append it to the GNode.

	* src/yelp-info.c: conform with the Yelp coding style.
	* src/yelp-man.c: same

	* configure.in (GNOMELOCALEDIR): depend on a certain number of
	  libgnome, will update this when new libgnome get's released.

	* src/yelp-window.c:
	- Fixes #73056
	(yelp_window_new): don't create index view if no index is
	  available.  
	(yw_create_toolbar): don't add index-button if index is not
	  available. 
	(yw_populate): don't insert index page in notebook if index is not
	  present.

	* src/yelp-base.c:
	(impl_Yelp_getWindows): added/impl.
	(yelp_base_class_init): use getWindows.

	* idl/GNOME_Yelp.idl (GNOME): 
	- Added getWindows which returns a sequence of strings with the
	  URL's of all open windows. This is needed to save the
	  session-state. (Fixes #73184).

	* src/yelp-window.c:
	(yelp_window_get_current_uri): added, needed for session
	  management.

	* src/yelp-html.c (yh_free_stream_data): removed debug printout.

	* src/yelp-view-index.c:
	- Fixed #67954
	(yvi_html_url_selected_cb): implemented.
	(yelp_view_index_show_uri): fixed compile warning.

	* src/yelp-window.c:
	(yw_handle_url): check if url starts with index:, if so, let
	  YelpViewIndex handle it.
	(yelp_window_new): connect to url_selected on YelpViewIndex.

	* src/yelp-view-index.c:
	- added URL_SELECTED signal.
	(yvi_index_selection_changed_cb): emit url_selected.
	(yvi_entry_activated_cb): fixed warning.
	(yvi_filter_idle): same.
	(yelp_view_index_show_uri): added/impl.

	* src/yelp-view-content.c: removed the title-changed signal for
	  now. I should really make all views derive from the same
	  object. Lots of things are similar. (at least for YelpViewIndex
	  and YelpViewContent.

	* src/yelp-scrollkeeper.c:
	(ys_parse_index_item): 
	- add a ? before the link.
	- add a index: before the uri
	  The uri will now be index:ghelp:... (not soo nice but it's to
	  make the window know which view it is).

2002-03-02  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-index.c:
	- removed lots of debug output.
	(yvi_entry_changed_cb): implemented. call filter from idle.
	(yvi_filter_idle): added/impl.
	(yvi_search): removed.

	* src/yelp-section.c:
	(yelp_section_compare): take the arguments as gconstpointer so the
	  function doesn't have to be cast everytime used.

	* src/yelp-scrollkeeper.c:
	(ys_parse_index_item): 
	- don't add title if it's not valid utf8. Is this check needed?
	- call strdown on all title's in the index-terms.

	* src/yelp-index-model.c:
	(yelp_index_model_filter): added/impl.

	* src/yelp-view-index.c:
	(yvi_index_selection_changed_cb): use the column-enum to specify
	  columns.

	* src/yelp-index-model.c:
	(yim_init): initially set index_words to NULL.
	(yim_get_column_type): return the correct type.
	(yim_get_value): add support for the extra hidden section column.
	(yelp_index_model_set_words): inform that new lines have been
	  added to the model.

	* src/yelp-index-model.h: added a column-enum

	* src/Makefile.am: removed gtktreemodelfilter

	* src/gtktreemodelfilter.[ch]: removed, not used and _kris_ is
	  doing the development in libegg now.

	* src/yelp-view-index.c: 
	- replaced the old ListStore with the new YelpIndexModel.
	(yvi_index_term_add): removed, not needed when using own model.
	(yvi_setup_index_view): removed.
	
	* src/yelp-index-model.[ch]: missed some copy&paste-changes when
	  copying the model from MrProject :)
	(yelp_index_model_set_words): added.

	* src/yelp-view-index.c: 
	- in-the-middle-commit on index search stuff.
	(yvi_entry_changed_cb): added
	(yvi_entry_activated_cb): added
	(yvi_entry_text_inserted_cb): added
	(yvi_search): added
	(yvi_complete_idle): added
	(yvi_complete_func): added
	(yelp_view_index_new): connect to signals in the entry.

	* src/yelp-scrollkeeper.c: removed debug variable.

	* src/yelp-index-model.[ch]: added model for the index.

	* configure.in: added compile warnings.

2002-02-28  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c:
	(yw_about_cb): added translator-credits to about-box.
	- #72636 fixed.
	- added GtkItemFactory to priv-struct.
	- added a Go-menu with the actions from the toolbar in it.
	- removed accelerators from toolbar items.
	- renamed some functions that made it easier to add the Go-menu.

2002-02-28  Sandeep V Honde <sandeep.honde@wipro.com>

	* src/yelp-main.c :
	- Basic support for Session Management.
	(yelp_save_session): added/impl.
	(yelp_client_die)  : added/impl.  

2002-02-28  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-index.c:
	(yelp_view_index_new): Added "Search for:" label in fron of the
	  search entry. Fixes #72643

	* src/yelp-window.c:
	(yw_create_toolbar): 
	- Update string, fixes #72634
	- Update string, fixes #72635

	* src/yelp-view-toc.c:
	(yelp_view_toc_man_1): Update string, fixes #72638
	(yelp_view_toc_start): Update string, fixes #72632

2002-02-25  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-index.c:
	(yvi_index_term_add): added/impl.
	(yvi_setup_index_view): added/impl.
	(yelp_view_index_new): call yvi_setup_index_view.

	* src/yelp-scrollkeeper.c: removed some debug printouts.

	* src/yelp-window.c:
	(yelp_window_new): added index-list to arguments.

	* src/yelp-view-index.c: started to fix (was a copy&paste from
	  yelp-view-content.

	* src/yelp-section.h: added YELP_SECTION_INDEX to YelpSectionType.

	* src/yelp-section.c: include string.h, fixes compile warning.

	* src/yelp-scrollkeeper.c:
	- Basic support for ScrollKeeper index added
	- use g_ascii_strcasecmp instead of depricated g_strcasecmp.
	  Thanks to the wipro guys for notifying.
	(ys_parse_index): added/impl.
	(ys_parse_index_file): added/impl.
	(ys_parse_index_item): added/impl.
	(yelp_scrollkeeper_init): 
	- added GList **index to arguments.

	* src/yelp-main.c:
	(yelp_main_open_new_window): use g_error
	(yelp_main_start): same.

	* src/yelp-history.c: include string.h, fixes compile warning.

	* src/yelp-base.c: added index-list to priv-struct
	(yelp_base_new): call scrollkeeper_init with index-list
	(yelp_base_new_window): send the index-list to the new window.

2002-02-22  Kjartan Maraas  <kmaraas@gnome.org>

	* src/yelp-main.c: Remove unsupported #ifdef ENABLE_NLS stuff.
	
2002-02-20  Simos Xenitellis  <simos@hellug.gr>

	* configure.in: Added "el" to ALL_LINGUAS.

2002-02-18  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-history.c (yelp_history_goto): don't add entry to
	  history list if it's the same as the current.

	* src/yelp-window.c (yw_home_button_clicked): Notify the history
	  list that we have moved.

	* src/yelp-view-index.c (yvi_tree_selection_changed_cb): call
	  yelp_html_open_uri instead of yelp_html_open_section.

	* src/yelp-html.[ch] (yelp_html_open_uri): renamed from
	  yelp_html_open_sectoin. It now takes an uri and a reference 
	  instead of a YelpSection.

	* src/yelp-view-content.c (yelp_view_content_show_uri): call
	  yelp_html_open_uri instead of creating a temporary YelpSection.

	* src/yelp-view-toc.c (yelp_view_toc_man_2): don't send html for
	  translations, reported by Christian Rose

	* src/yelp-window.c (yw_init): make the default size smaller.

	* src/yelp-view-toc.c: typedef the YelpImportantDocsSection struct
	(yelp_view_toc_start): only write section topic for important
	  documents if there is any documents installed in that section.

	* src/yelp-util.c (yelp_util_extract_docpath_from_uri): 
	- Also work for sgml documents.

2002-02-18  Gediminas Paulauskas <menesis@delfi.lt>

	* configure.in: remove GNOME_COMMON_INIT, GNOME_PLATFORM_GNOME_2

2002-02-17  TÃµivo LeedjÃ¤rv  <leedjarv@interest.ee>

	* configure.in: Added et to ALL_LINGUAS.

2002-02-13  jacob berkman  <jacob@ximian.com>

	* src/Makefile.am (install-exec-local): rename install-local since
	automake doesn't like it

2002-02-13  Alex Larsson  <alexl@redhat.com>

	* src/yelp-view-toc.c (yelp_view_toc_write, yelp_view_toc_close,
	yelp_view_toc_open): 
	Implement buffering writes for generated html.

2002-02-13  Alex Larsson  <alexl@redhat.com>

	* src/Makefile.am (install-local):
	Remove old gnome-help binary, if any.
	
2002-02-13  Alex Larsson  <alexl@redhat.com>

	* src/Makefile.am (install-local):
	Install a gnome-help symlink

2002-02-13  Mikael Hallendal  <micke@codefactory.se>
	
	* configure.in: release 0.2.1

	* reverted binary name change.

	* src/yelp-main.c (main): initiate url to empty string instead of
	  NULL. Fixed #71350
	
	* src/yelp-base.c (impl_Yelp_newWindow): check if url is empty
	  before trying to open it.

2002-02-12  Alex Larsson  <alexl@redhat.com>

	* important_docs.xml:
	* src/yelp-view-toc.c:
	Add sections to the important docs file
	Consistently call it "Manual pages" instead of "Man pages".
	Add link back to toc:man from the secondary level man page indexes.

2002-02-10  Mikael Hallendal  <micke@codefactory.se>

	* src/*.c: cleaned up includes
		
	* src/yelp-util.c (yelp_util_extract_docpath_from_uri): remove
	  warning.
	
	* src/yelp-window.c (yw_handle_url): show external URL's in
	  external viewer. #67962

2002-02-06  Alex Larsson  <alexl@redhat.com>

	* src/yelp-util.c (yelp_util_extract_docpath_from_uri):
	Correctly handle the case when gnome_vfs_uri_new() fails.

2002-01-31  Satan  <snickell@stanford.edu>

	* Makefile.am:
	* gnome-help.desktop.in:
	* src/Makefile.am:
	* yelp.desktop.in:

	Renname stuff to "gnome-help".

	Because I'm a boring kind of guy.
	
2002-01-31  Roy-Magne Mo  <rmo@sunnmore.net>

	* configure.in: Added nn to ALL_LINGUAS.

2002-01-30  Zbigniew Chyla  <cyba@gnome.pl>

	* configure.in (ALL_LINGUAS): Added pl (Polish).

2002-01-30  Mikael Hallendal  <micke@codefactory.se>

	* configure.in: bumped version to 0.2.99

	* Release 0.2

	* src/yelp-view-toc.c (yelp_view_toc_write_header): added encoding
	  utf-8 to html header.

	* README: updated

	* configure.in: bumped version.
	
	* src/yelp-util.c: removed debug printouts.

	* src/yelp-html.c: hide debug printouts.

	* src/yelp-view-content.c: same.

	* src/yelp-window.c: same.
	
	* src/yelp-window.c (yw_populate): translate strings from item
	  factory.

	* src/yelp-view-toc.c 
	(yelp_view_toc_start): marked strings for translation.
	(yelp_view_toc_start): same.
	(yelp_view_toc_man_2): same.
	(yelp_view_toc_man_1): same.
	(yelp_view_toc_info): same.
	(yelp_view_toc_scrollkeeper): same.

	* src/yelp-window.c:
	(yw_url_selected_cb): 
	- if both base_url and url is set call resolve_relative_url to get
	  the absolute url. 
	- if only one of them is set, use that one.

	* src/yelp-view-content.c: 
	- moved the scrolled window for the tree into the priv-class.
	(yvc_tree_selection_changed_cb): emit url-selected signal.
	(yelp_view_content_show_path): removed, unused.
	(yelp_view_content_show_uri): 
	- hide the tree if: man, info or xml/sgml document without TOC.
	- don't reload the tree if it's the same document that's going to
	  be showed again.
	- Retrieve the ScrollKeeper tree based on fullpath uri to file,
	  relative link stripped.

	* src/yelp-util.c: 
	(yelp_util_contents_add_section): removed, unused.
	(yelp_util_resolve_relative_uri): if uri starts with ? just concat
	  the base_uri with the relative link.
	(tree_find_node): Search a tree to find a node that matches an
	  uri.
	(yelp_util_find_node_from_uri): traverse the tree to find the node
	  for a certain URI.
	(yelp_util_extract_docpath_from_uri): added, helper function that
	  takes a URI and calculates an absolute path to the document
	  (without anchors). This is used to find the TOC tree for that
	  document. This function needs some tweaking.

	* src/yelp-scrollkeeper.[ch] 
	(yelp_scrollkeeper_get_toc_tree): renamed from
	  ..._get_toc_tree_model.

2002-01-29  Seth Nickell  <snickell@stanford.edu>

	* yelp.desktop.in:

	Tweak comment.

2002-01-27  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-content.c: added title-changed signal. Shouldn't
	  perhaps be here. Will perhaps remove it and do it all from 
	  YelpWindow.
	
	* src/yelp-util.[ch] (yelp_util_find_node_from_uri): added
	  unimpl.

	* src/yelp-marshal.list: added VOID:STRING

	* src/yelp-main.c (main): look if an extra argument was passed, if
	  it was send it to yelp_main_start.
	(yelp_main_idle_start): take url as argument
	(yelp_main_start): dito
	(yelp_main_open_new_window): send url to GNOME_Yelp_newWindow

	* src/yelp-base.c (impl_Yelp_newWindow): take a url argument. If
	  it's not NULL it will open the window with that URI showing.

	* idl/GNOME_Yelp.idl (GNOME): newWindow now takes a url-argument.

	* src/yelp-view-content.c (yelp_view_content_show_uri): 
	- if uri starts with ghelp:, try to find the TOC for that document
	  in scrollkeeper. If it's found, display it in the tree widget.

	* src/yelp-scrollkeeper.c: 
	- Removed old stuff outcommented and unused code.
	(ys_parse_toc_section): fill a GNode tree instead of GtkTreeStore.
	(yelp_scrollkeeper_get_toc_tree_model): use GNode instead of
	  GtkTreeStore.

	* src/yelp-html.c (yelp_html_open_section): NULL-terminate list of
	  strings to g_strconcat.

	* src/yelp-scrollkeeper.c:
	(yelp_parse_toc): removed, code moved to
	  yelp_scrollkeeper_get_toc_tree_model 
	(yelp_scrollkeeper_get_toc_tree_model): moved the code from
	  yelp_parse_toc. 

	* src/yelp-main.c (yelp_main_start): give an error if we can't
	  active the yelp-base, might solve #69134. Not the cause but the 
	  segfault.
	(yelp_main_idle_start): dito.

2002-01-26  Mikael Hallendal  <micke@codefactory.se>

	* src/Makefile.am: removed BUILD_SOURCES since it seems to create
	  problems with automake 1.4.

        * Thanks to Laszlo PETER <Laszlo.Peter@ireland.sun.com> for the
	  following patches.
	
	* src/yelp-view-toc.c:
	(yelp_view_toc_write_header): buildfixes when not using gcc.
	(yelp_view_toc_start): dito

	* src/yelp-html.c: build fixes when not using glibc.

	* configure.in: make yelp build with other compilers than GCC.

	* src/yelp-window.c:
	- Fixed history
	(yw_handle_url): added, broke out code from
	  yw_url_selected_cb. Called from history_button_clicked too.  
	(yw_url_selected_cb): call yw_handle_url instead of parsing the
	  url internally. If yw_handle_url returns TRUE, add the url in
	  the history.

2002-01-25  Alex Larsson  <alexl@redhat.com>

	* important_docs.xml:
	New file.
	
	* Makefile.am:
	Install important_docs.xml

	* src/yelp-view-toc.c:
	Parse important_docs.xml instead of hardcoding them
	
	* configure.in:
	Remove "hu" from ALL_LINGUAS, as it breaks the build.

2002-01-25  Ole Laursen  <olau@hardworking.dk>

	* configure.in: Added "da" to ALL_LINGUAS.

2002-01-25  Szabolcs Ban  <shooby@gnome.hu>

        * po/hu.po: Added Hungarian translations from Emese Kovacs
        <emese@gnome.hu>, cvs troubles solved, sorry for that

Fri Jan 25 12:43:19 2002  Owen Taylor  <otaylor@redhat.com>

	* configure.in: Remove 'hu' from ALL_LINGUAS since
	the po file wasn't actually added. 

2002-01-25  Szabolcs Ban  <shooby@gnome.hu>

        * po/hu.po: Added Hungarian translations from Emese Kovacs
        <emese@gnome.hu>

2002-01-24  Alex Larsson  <alexl@redhat.com>

        * src/yelp-util.[ch]:
	Add yelp_util_find_toplevel().
	
	* src/yelp-view-content.[ch]:
	Add some tree support.

	* src/yelp-view-toc.c:
	Add scrollkeeper support.

	* src/yelp-window.c:
	Remove old crap, make content view work again.
	
2002-01-24  Alex Larsson  <alexl@redhat.com>

	* src/yelp-view-toc.c:
	Add initial scrollkeeper support.

2002-01-24  Alexander Shopov  <al_shopov@web.bg>

	* configure.in (ALL_LINGUAS): added "bg"

2002-01-23  Alex Larsson  <alexl@redhat.com>

	* src/yelp-scrollkeeper.[ch]:
	Implement seriesid lookup.

	* src/yelp-view-toc.c:
	Fix the startpage to contain the seriesid docs, and
	be more dynamic.

2002-01-23  Alex Larsson  <alexl@redhat.com>

	* src/yelp-util.c:
	Change path separator to '/'.

	* src/yelp-view-toc.c:
	Implement simple toc:info URL handler.

2002-01-23  Alex Larsson  <alexl@redhat.com>

	* src/yelp-util.c:
	Clean up section->name usage
	
	* src/yelp-view-toc.c:
	Clean up and fix double free in yelp_view_toc_full_path_name()

2002-01-22  Alex Larsson  <alexl@redhat.com>

	* src/yelp-man.c (yelp_man_push_initial_tree):
	Fix silly bug.

	* src/yelp-util.[ch]:
	Add functions to go between Nodes in the doc tree and
	string paths.

	* src/yelp-view-toc.c:
	Update man handling to GNodes.

2002-01-23  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c (yw_history_button_clicked): 
	- use string instead of YelpSection with history.

	* src/yelp-history.[ch]: work with strings instead of
	  YelpSection. 

2002-01-22  Hasbullah Bin Pit <sebol@ikhlas.com>

	* configure.in: Added ms to ALL_LINGUAS.
	* po/ms.po: Added Malay Translation by
          Mohamad Afifi Omar <mr_mohd_afifi@yahoo.com> and me.

2002-01-22  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-toc.c: started to rewrite to use GNode-tree
	  instead of GtkTreeStore.

	* src/yelp-base.c: use a GNode-tree instead of the GtkTreeStore.

	* src/yelp-window.c: dito.

	* src/yelp-scrollkeeper.[ch]: dito.

	* src/yelp-man.[ch]: dito.

	* src/yelp-info.[ch]: dito.

	* src/yelp-window.c: use stock items for menu.

2002-01-21  Alex Larsson  <alexl@redhat.com>

        * src/yelp-marshal.list:
	Add a boolean the the marshaller needed for url_selected

	* src/yelp-section.h:
	Fix typo in #endif
	
        * src/yelp-html.[ch]:
	Change section_selected to url_selected
	
	* src/yelp-view-content.[ch]:
	Add url_selected signal that proxies YelpHtml::url_selected
	Implement yelp_view_content_show_uri.

	* src/yelp-view-index.c:
	Change section_selected to url_selected

	* src/yelp-view-toc.[ch]:
	Change path_selected to url_selected
	More man index work.
	Moved startpage to it's own function.
	Exported yelp_view_toc_open_url().

	* src/yelp-window.c:
	Common way to follow link is now the url_selected signal
	on views.

2002-01-21  jacob berkman  <jacob@ximian.com>

	* src/Makefile.am (EXTRA_DIST): the .list file has a -

2002-01-21  Seth Nickell  <snickell@stanford.edu>

	* yelp.desktop.in:

	Call it "Help".

2002-01-19  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-base.c
	(yelp_base_window_finalized_cb): added/impl. 
	  quit the bonobo-main when last window is destroyed.
	(yelp_base_new_window): add a weak ref to the new window. used to
	  be able to quit bonobo-main when last window is destroyed.

	* src/yelp-info.c (yelp_info_init): 
	- check if /usr/share/info and /usr/info is the same before adding
	both.

	* src/yelp-man.c (yelp_man_init): 
	- Use g_spawn_command_line_sync instead of popen.
	- if 'manpath' command is not found, look for MANPATH env. before
	  using /usr/man and /usr/share/man
	- cleaned up a little to better fit into Yelp code.

	* src/yelp-html.c (yelp_html_new): remove the temp printout. just
	  print Yelp for now.

	* src/yelp-man.c (yelp_man_init): 
	  check that /usr/man and /usr/share/man doesn't point to the same
	  place. 

	* src/yelp-scrollkeeper.c:
	(ys_strip_scheme): rewrote to
	- accept NULL instead of scheme
	- return the new string instead of breaking down the one passed
	  in.
	- use strstr instead of g_strstr_len with the entire string as
	  len.
	(ys_parse_doc): 
	- send NULL to ys_strip_scheme since we are not interested in the
	  scheme for now. Also clean up that stuff a bit. 
	- call xmlFree on the xml-strings instead of g_free.
	- don't free docsource before it's last use :)

2002-01-19  Alexander Larsson  <alla@lysator.liu.se>

	* src/yelp-scrollkeeper.c (ys_strip_scheme):
	Set *scheme, not scheme on error

2002-01-18  Alex Larsson  <alexl@redhat.com>

	* configure.in:
	Add AM_PATH_GLIB_2_0 to get GLIB_GENMARSHAL

	* src/yelp-marshal.list
	* src/Makefile.am:
	Generate marshaller files
	
	* src/yelp-view-toc.[ch]:
	New url_selected signal.

	* src/yelp-scrollkeeper.c:
	Fix leak
	
2002-01-17  Alex Larsson  <alexl@redhat.com>

	* src/yelp-window.c (yw_populate):
	Make TOC view scrolled window policy AUTO.
	
	 * yelp-view-toc.c:
	 More initial man work.
	 
2002-01-16  Seth Nickell  <snickell@stanford.edu>

	* Makefile.am:
	* yelp.desktop.in:

	Install .desktop file into the proper location, and fix
	its Categories field. Use the gnome-help.png icon. 
	
2002-01-15  Alex Larsson  <alexl@redhat.com>

	* src/yelp-view-toc.c:
	Initial work on sane html generation, including some
	man index work.

	* yelp-info.c:
	* yelp-man.c:
	* yelp-scrollkeeper.c:
	Rename the toplevel nodes to "man", "info" and "scrollkeeper".
	
Tue Jan 15 23:27:44 2002  Kristian Rietveld  <kris@gtk.org>

	* src/gtktreemodelfilter.[ch]: update

2002-01-14  Alex Larsson  <alexl@redhat.com>

	* yelp-section.[ch]:
	Add section type to section.

	* src/yelp-html.c:
	* src/yelp-info.c:
	* src/yelp-man.c:
	Update for the section type change.

	* src/yelp-scrollkeeper.c: 
	Update for the section type change.
	Make a scrollkeeper toplevel node.

2002-01-14  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-toc.[ch]: renamed from YelpViewHome.

	* src/yelp-window.c: use YelpViewTOC instead of YelpViewHome.

	* AUTHORS: added Alexander Larsson

	* src/yelp-window.c (yw_about_cb): added Alexander Larsson to
	authors.

	* configure.in: bumped version to 0.1.99

2002-01-11  Alex Larsson  <alexl@redhat.com>

	* src/yelp-html.c (yh_link_clicked_cb):
	Shortcut pure relative links.
	(yelp_html_open_section): If there is a fragment
	in the uri, put that in sdata->anchor so that we
	jump to the anchor on load.

2002-01-11  Alex Larsson  <alexl@redhat.com>

	* src/yelp-util.[ch]:
	Add yelp_util_resolve_relative_uri() that resolves
	relative text uris. Taken from Gnome VFS. We can't use
	the Gnome-vfs one, since gnome_vfs_uri_new() expands
	the uris.
	
	* src/yelp-html.c (yh_link_clicked_cb):
	Correctly follow relative URIs.

2002-01-11  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c (yw_create_toolbar): don't include help-on in
	  the toolbar.

2002-01-10  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-content.c: 
	- use the new GtkTreeModelFilter.
	(yvc_tree_selection_changed_cb): get the model from the actual
	  tree and use it to get the section selected.
	(yelp_view_content_new): don't set the model here, use the
	  filtered model in content_show_path instead.
	(yelp_view_content_show_path): set the model to a filtered model
	  with virtual root set to the selected path.

	* src/yelp-util.c (yelp_util_contents_add_section): set third
	  hidden filter-column to always TRUE (always visible).

	* src/yelp-base.c (yelp_base_init): added boolean hidden column
	  needed by the filtering.

	* src/gtktreemodelfilter.[ch]: added GtkTreeModelFilter from
	  Kristian Rietval, this is temporaray until this makes it into
	  Gtk+ or some extra library.

	* src/Makefile.am:
	(yelp_LDADD): added libgtktreemodelfilter
	(noinst_LTLIBRARIES): added libgtktreemodelfilter.

2002-01-10  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "nl" to ALL_LINGUAS.

2002-01-09  Alex Larsson  <alexl@redhat.com>

	* acconfig.h:
	* configure.in:
	Look for libbz2

	* src/Makefile.am
	* src/yelp-man.[ch]:
	* src/yelp-info.[ch]:
	New files

	* src/yelp-base.c (yelp_base_new):
	Call yelp_man_init() and yelp_info_init().

	* src/yelp-section.[ch]:
	Add yelp_section_compare for sorting by name.

2002-01-09  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-base.[ch]: use BonoboObject instead of BonoboXObject,
	  thanks rhult for notifying me.

2002-01-06  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "es" to ALL_LINGUAS.

2002-01-06  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "tr" to the languages list.

2002-01-06  GermÃ¡n Poo-CaamaÃ±o <gpoo@ubiobio.cl>

	* configure.in: Added spanish (es) to ALL_LINGUAS

2002-01-05  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c (yw_exit_cb): use bonobo_main_quit instead of
	  gtk_main_quit. This should be moved to yelp-base instead.

	* src/yelp-view-content.c:
	(yelp_view_content_show_uri): added, not impl.

	* src/yelp-main.c: 
	- uses bonobo-activation to start Yelp and connect to an already
	  running instance.
	(yelp_base_factory): added. the factory-function.
	(yelp_main_activate_base): added, gets an CORBA_Object reference
	  to the YelpBase.
	(yelp_main_open_new_window): added, calls GNOME_Yelp_newWindow on
	  the CORBA_Object to open a new window.
	(yelp_main_start): added, called if another instance is already
	  running. 
	(yelp_main_idle_start): called from an idle function if this is
	  the first instance.
	(main): start the factory. and call yelp_main_start or
	  yelp_main_idle_start depending on if it's the first instance. 

	* src/yelp-base.[ch]:
	- Made a BonoboXObject instead of GObject.
	(impl_Yelp_newWindow): added, implemented GNOME_Yelp_newWindow. 
	(yelp_base_class_init): initialize the epv-functions.
	

	* src/Makefile.am: updated for idl and .server
	  generation.

	* src/GNOME_Yelp.server.in: added for bonobo-activation.

	* idl/GNOME_Yelp.idl: Added. Yelp-interface (might be a module
	  eventaully).

	* configure.in: updated for use with bonobo.

	* Makefile.am (EXTRA_DIST): added idl/GNOME_Yelp.idl

2002-01-04  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-main.c (main): removed setlocale

2002-01-04  Jody Goldberg <jody@gnome.org>

	* configure.in (CFLAGS) : do no use continuation characters.  It
	  irritates auto*/sed on my system.

2002-01-04  Mikael Hallendal  <micke@codefactory.se>

	* TODO: updated, moved issues to bugzilla.

2001-12-27  Duarte Loreto <happyguy_pt@hotmail.com>

        * configure.in: Added portuguese to ALL_LINGUAS

2001-12-22  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c:
	(yw_close_window_cb): added. yelp-base should listen to
	  destroy-signal of all windows, so it knows when to quit.
	- Added Close window in File menu

2001-12-12  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c (yw_populate): add Accel group.
	(yw_create_toolbar): added tooltips, needs update

2001-12-11  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Adde "sk" to ALL_LINGUAS.

2001-12-10  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added "no" to ALL_LINGUAS.
	
2001-12-10  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c (yw_class_init): added signal for new window.
	(yw_new_window_cb): amit new_window_requested-signal

	* src/yelp-base.c:
	(yelp_base_new_window_cb): added, listens for new_window_requested
	  from windows.
	(yelp_base_new_window): connect to signal in gtk-window.

	* TODO (FEATURES): updated
	

	* src/yelp-window.c: Some fixes after discussion with seth.
	(yw_init): Yelp: GNOME Help Browser -> Help Browser.
	(yw_populate): readded the menu
	(yw_close_cb): removed
	(yw_new_window_cb): readded
	(yw_exit_cb): readded
	(yw_about_cb): readded
	(yw_create_toolbar): removed the Close-button

	* configure.in: changed Yelp->yelp in AM_INIT_AUTOMAKE.

	* src/yelp-view-home.c (yelp_view_home_new): 
	- updated color to white background, less difference between the
	  views now.

	* src/yelp-window.c: 
	- cleaned up a little.
	- now has tree views (home/content/index) in a Notebook
	- First shows the Home-page, when click a link in it, swap to
	  content-view.
	(yw_populate): only set up the notebook, other code moved to the
	  three views.
	(yw_create_toolbar): new function, creates the toolbar.

	* src/yelp-view-index.[ch]: 
	- added
	- this handles the index view (with index-term searching to the
	  left).
	- not finished.

	* src/yelp-view-home.[ch]: 
	- Now draws an test-page. This should be made nicer.
	- The HTML-stuff is _not_ finished.
	- Signals path_selected when a user press a link.
	
	* src/yelp-view-doc.[ch]: removed, I must have been tired when
	  commiting this :)

	* src/yelp-view-content.[ch]: 
	- added
	- takes care of the content-view (the one with the tree to the
	  left).
	- This view is accessed from the home-view.
	
	* src/yelp-toc.[ch]: removed, now handled inside
	  yelp-view-content.[ch].
	
	* src/yelp-scrollkeeper.c:
	(ys_parse_book): only parse if Toplevel == GNOME.

	* src/yelp-index.[ch]: removed, this is now handled inside
	  yelp-view-index.c
	
	* src/yelp-view.[ch]: moved to yelp-html, yelp-view-* is the
	  various main-views.

	* src/yelp-html.[ch]: added, this is the previous yelp-view.[ch]

	* src/yelp-base.c: priv->bookshelf -> content_store.
	(yelp_base_get_bookshelf): removed, was used by YelpWindow, but
	  YelpWindow shouldn't know anything about YelpBase.
	(yelp_base_new_window): send the content_store to yelp_window_new
	  instead.

	* src/Makefile.am (yelp_SOURCES): updated to reflect the current
	  files.

2001-12-09  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added "az" entry to ALL_LINGUAS.

2001-12-09  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view-home.c: added, will be the Home-view.

	* src/yelp-doc-view.[ch]: moved to yelp-view-doc.[ch]
	
	* src/Makefile.am (yelp_SOURCES): use yelp-view* instead of
	  yelp-*-view.

2001-12-08  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-main.c (main): cast the window to YELP_WINDOW.

	* src/yelp-index.c: 
	- don't include yelp-keyword-db.h
	- cleaned up some comments.

	* src/yelp-base.c: 
	- don't include yelp-keyword-db.h
	- removed keyword_db from priv-struct.

	* src/yelp-keyword-db.[ch]: removed, should use only a GCompletion
	  plus the eventual support for ModelFilter in GtkTreeView.
	
	* src/Makefile.am (yelp_SOURCES): removed yelp-keyword-db.[ch].

	* TODO (FEATURES): updated.

	* src/yelp-util.c: removed the outcommented menu-code.
	- No menu will be used, only the toolbar. 
	- The window-generating code should probably be moved to glade
	  later.

	* src/yelp-util.[ch]: added, moved the insert-into-tree function
	  from yelp-section.[ch] here.

	* src/yelp-toc.c: 
	(yelp_toc_open): removed, unused and unimplemented. Can add it
	  back when I need it.

	* src/yelp-section.[ch]: 
	(yelp_section_add_sub): removed, functionality moved to
	  yelp-util.[ch]

	* src/yelp-scrollkeeper.[ch]: 
	- renamed from scrollkeeper-parser.[ch]
	- cleaned up, don't use the metadata-parser interface.
	- insert into the GtkTreeStore directly.

	* src/yelp-main.c: include yelp-window.h

	* src/yelp-base.c: 
	(yelp_base_new_book_cb): removed
	(yelp_base_insert_node): removed
	(yelp_base_section_foreach): removed
	(yelp_base_new): don't connect to parser signals, parser gets the
	  GtkTreeStore and can insert directly into it.

	* src/scrollkeeper-parser.[ch]: moved to yelp-scrollkeeper.[ch]

	* src/metadata.h: removed, was used to help including all the
	  metadata-parsers.

	* src/main.c: moved to yelp-main.c

	* src/metadata-parser.[ch]: removed, no need for this interface.

	* src/devhelp-parser.[ch]: removed, don't need to support this and
	  want the source to be as clean as possible.
	
	* src/Makefile.am (yelp_SOURCES): changed to build the correct
	  files after the move-around.

	* configure.in: changed AC_INIT argument to src/yelp-main.

	* autogen.sh (PKG_NAME): changed test for srcdir/main to
	  srcdir/yelp-main.

2001-12-07  Mikael Hallendal  <micke@codefactory.se>

	* src/Makefile.am (yelp_SOURCES): yelp-view -> yelp-doc-view.

	* src/yelp-window.c:
	- use yelp-doc-view instead of yelp-view.
	- update GUI after inspiration from M$ help.

	* src/yelp-doc-view.[ch]: renamed from yelp-view.[ch]

2001-12-05  Malcolm Tredinnick <malcolm@commsecure.com.au>
	* src/yelp-section.[ch]:
	- add a scheme member to YelpSection. Will usually be NULL,
	  except when adding URIs from Scrollkeeper.
	(yelp_section_new): pass in scheme as the last param.
	(yelp_section_copy): pass in extra param to yelp_section_new.

	* src/devhelp-parser.c, src/yelp-window.c: pass extra param in
	calls to yelp_section_new().

	* src/scrollkeeper-parser.c:
	- parse extra param to yelp_section_new().
	(sp_parse_doc): strip off the scheme from ScrollKeeper (usually
	"file:") before adding "ghelp:" to the URI. But save it in case
	we want act based on this scheme later.
	(sp_strip_scheme): new function to strip schemes.

	* docs/help-parsing.txt: New file, describing what we have to
	  handle. Mostly because I keep forgetting.

2001-12-04  Christian Meyer  <chrisime@gnome.org>

	* configure.in: Added "de" entry to ALL_LINGUAS.

2001-12-04  Malcolm Tredinnick <malcolm@commsecure.com.au>
	* src/yelp-window.c:
	remove obsolete include of ghelp-uri.h.
	(yelp_window_section_select_cb): There are YelpSections that
	don't have uris (section headings). Don't try to open them.

2001-12-04  Mikael Hallendal  <micke@codefactory.se>

	* src/ghelp-uri.[ch]: removed, old junk

	* src/ghelp-main.[c]: likewise

	* src/yelp-window.c:
	(yelp_window_populate): connect the history buttons.
	(yelp_window_history_button_pressed): added/impl.
	- use yelp_view_open_section instead.

	* src/yelp-view.c:
	(yelp_view_open_section): renamed from yelp_view_open_uri. Now
	  takes a section as argument instead.

	* src/yelp-section.c (yelp_section_new): allow name == NULL

	* src/yelp-window.c (yelp_window_populate): connect to the correct
	  button.
	(yelp_window_section_selected_cb): notify the history that we are
	  moving.
	
	* src/yelp-history.c (yelp_history_maybe_emit): no details when
	  emitting.

	* src/yelp-window.c: 
	- added forward/back-buttons to priv struct.
	- connect the buttons to forward/back-exists-toggled signals in
	  history.
	(yelp_window_toggle_history_buttons): added/impl. will handle when
	  forward/back signals are emitted from YelpHistory.

	* src/yelp-toc.h: YelpBook->GNode

	* src/yelp-section.[ch]: added to replace yelp-book.[ch]
	
	* src/yelp-history.[ch]: 
	- use YelpSections instead of strings.
	- renamed all functions to yelp_history instead of help_history.

	* src/yelp-book[ch]: removed, replaced with yelp-section.

	* src/yelp-base.c (yelp_base_new_book_cb): YelpBook->GNode

	* src/scrollkeeper-parser.c: 
	- lots of updates to stop using YelpBook.
	- YelpBook -> GNode
	- return GNode instead of YelpBook.
	- Use GNode insternaly instead of YelpBook.
	- now use yelp_section_add_sub instead of yelp_book_add_section.
	- also, yelp_section_new to get a new section to call
	  yelp_book_add_section with.
	
	* src/metadata.h: yelp-book.h -> yelp-section.h

	* src/metadata-parser.h: use a GNode in the new_book signal
	  instead of a YelpBook. I might remove this signal entirely and 
	  instead use a function that might return the root-node.

	* src/devhelp-parser.c: semi-updated, disabled for now

	* src/Makefile.am (yelp_SOURCES): 
	- don't compile devhelp-parser,
	- rename yelp-book to yelp-section

2001-12-02  Malcolm Tredinnick <malcolm@commsecure.com.au>
	* src/main.c (main): pass in GNOME_PROGRAM_STANDARD_PROPERTIES to
	  gnome_program_init().

	* src/Makefile.am: Add some defines for the install paths.

2001-12-01  Mikael Hallendal  <micke@codefactory.se>

	* src/scrollkeeper-parser.c:
	(sp_parse_toc_section): prepend ? to the anchor and chomp it.

	* src/yelp-view.c (yelp_view_open_uri): open the anchor if
  	  present.

	* src/yelp-window.c: removed comments left from the removal of
	  the uri-entry.
	
2001-12-01  Richard Hult  <rhult@codefactory.se>

	* src/main.c (main): Exit when the window is closed.

	* src/*.c: Mark strings as translatable.

	* src/main.c (main): Init gettext.

	* acconfig.h: Add.

	* configure.in: Gettextize and intltoolize.

	* autogen.sh: Redirect to the installed one for gnome 2.

	* yelp.desktop.in: Desktop file.

	* Makefile.am: Add a desktop file and intltool rule for it.

2001-12-01  Mikael Hallendal  <micke@codefactory.se>

	* src/scrollkeeper-parser.c: path uri's as strings instead of
	  GnomeVFSURI's

	* src/yelp-window.c: likewise

	* src/yelp-view.c: likewise

	* src/yelp-toc.c: likewise

	* src/yelp-index.c: likewise

	* src/yelp-book.c: likewise

	* src/yelp-base.c: likewise

	* TODO: updated.

	* src/yelp-window.c (yelp_window_populate): 
	- removed the uri-entry
	- added a toolbar

	* TODO: updated.

	* src/scrollkeeper-parser.c:
	(sp_parse_toc_section): chomp the name (otherwise it contains a
	newline).

2001-11-30  Mikael Hallendal  <micke@codefactory.se>

	* src/scrollkeeper-parser.c:
	Now handles TOC parsing, needs some fixing with the internal
	links.
	include yelp-book.h
	(sp_get_xml_tree_of_locale): removed
	(sp_parse_toc): renamed from sp_parse_doc_toc., implemented to now
	  parse the toc.
	(sp_parse_toc_section): added, impl.
	(sp_parse_section): renamed from sp_tree_parse_section.
	(sp_parse_doc): renamed from sp_tree_parse_doc
	(sp_parse_doc_toc): added (not impl. yet).
	(sp_get_xml_docpath): added. Handles retrieving the xml doc path
	 from a scrollkeeper-* output.
	(sp_get_xml_tree_of_locale): moved the
	 scrollkeeper-get-content-list stuff to sp_get_xml_docpath. Now use
	 it instead.

	* src/main.c (main): don't run gtk_init, using gnome-program.

	* src/scrollkeeper-parser.c: renamed internal functions to sp_ to
	  get the names shorter.

2001-11-27  Richard Hult  <rhult@codefactory.se>

	* src/scrollkeeper-parser.c: Include string.h to get rid of a
	warning.

	* src/*.h: Fix build by including glib-object.h instead of
	gobject/gobject.h everywhere. 

2001-11-16    <micke@codefactory.se>

        * vfs-help-module: removed, included in platform now.
	
	* configure.in: don't build vfs-help-module, it's now in libgnome.

	* Makefile.am (SUBDIRS): dito

	* src/yelp-view.c (yelp_view_url_requested_cb): GNOME_VFS_PRIORITY
	  fixed to work with resent changes in API.
	(yelp_view_open_uri): dito.

2001-10-29  Mikael Hallendal  <micke@codefactory.se>

	* src/main.c (main): if argument is passed, pass that argument to
	  yelp_window_open_uri.

	* src/yelp-window.c (yelp_window_open_uri): added/impl.

2001-10-28  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-window.c (yelp_window_uri_selected_cb): don't segfault
	if uri == NULL.
	
	* src/yelp-base.c (yelp_base_new): use the scrollkeeper parser
	instead of devhelp.

	* src/scrollkeeper-parser.c:
	(scrollkeeper_parser_parse): call _trim_ with doc->xmlRootNode.
	(scrollkeeper_parser_trim_empty_branches): now actually works.
	(scrollkeeper_parser_parse_book): don't call ..._tree_empty. All
	empty branches has been removed.
	(scrollkeeper_parser_tree_parse_section): dito.

	* src/yelp-book.c (yelp_book_section_new): accept uri == NULL and
	don't ref it, if it is.
	(yelp_book_add_section): accept uri == NULL.

	* src/scrollkeeper-parser.c: started work on building index from
	Scrollkeeper.

	* src/devhelp-parser.c (devhelp_parser_parse_book): use xmlChar
	instead of gchar.

	* vfs-help-module/help-method.c 
	(help_name_to_local_path): gnome_i18n_get_language_list returns
	const GList.

2001-10-27  Mikael Hallendal  <micke@codefactory.se>

	* src/yelp-view.c (yelp_view_open_uri): set the document to show
	  the beginning.

	* src/Makefile.am: 
	- Don't build ghelp-test.
	(yelp_SOURCES): don't include ghelp-uri.[ch].

